/*

 * MemoFrame.java

 *

 * Created on 9 janvier 2004, 16:08

 */


package srcastra.astra.gui.modules.dossier;

import srcastra.astra.gui.modules.dossier.productSpecification.gestionnairepaneaux.*;

import srcastra.astra.gui.components.actions.actionToolBar.*;

import srcastra.astra.gui.modules.mainScreenModule.*;

import srcastra.astra.sys.classetransfert.dossier.*;

/**
 * @author Thomas
 */

public class MemoFrame extends javax.swing.JDialog implements InterfaceMainPanel {


    /**
     * Creates new form MemoFrame
     */

    DossierMainScreenModule m_dossierModule;

    public MemoFrame(java.awt.Frame parent, boolean modal, DossierMainScreenModule dossierModule) {

        super(parent, modal);

        m_dossierModule = dossierModule;

        initComponents();

        keystroke = new KeyStrokeManager(true);

        keystroke.registerComponent(this);

        keystroke.setAction(new int[]{ActionToolBar.DO_PREVIOUS, ActionToolBar.DO_CANCEL});

        if (m_dossierModule.getDossier() != null) {

            if (m_dossierModule.getDossier().getMemo() != null) {

                grp_Text_org.setText(m_dossierModule.getDossier().getMemo().getMemoOrg());

                grp_Text_imp.setText(m_dossierModule.getDossier().getMemo().getMemoPrint());

                grp_Text_facture.setText(m_dossierModule.getDossier().getMemo().getMemoFacture());

                grp_Check_special.setSelected(m_dossierModule.getDossier().getMemo().getSpecialdossier() == 1 ? true : false);

            }

        }

    }

    public MemoFrame(java.awt.Frame parent, boolean modal, Memo_T memo) {

        super(parent, modal);

        initComponents();

        keystroke = new KeyStrokeManager(true);

        keystroke.registerComponent(this);

        keystroke.setAction(new int[]{ActionToolBar.DO_CANCEL});

        jButton1.setVisible(false);

        grp_Check_special.setEnabled(false);


        if (memo != null) {

            grp_Text_org.setText(memo.getMemoOrg());

            grp_Text_imp.setText(memo.getMemoPrint());

            grp_Text_facture.setText(memo.getMemoFacture());

            grp_Check_special.setSelected(memo.getSpecialdossier() == 1 ? true : false);


        }

    }

    KeyStrokeManager keystroke;


    /**
     * This method is called from within the constructor to
     * <p/>
     * initialize the form.
     * <p/>
     * WARNING: Do NOT modify this code. The content of this method is
     * <p/>
     * always regenerated by the Form Editor.
     */

    private void initComponents() {//GEN-BEGIN:initComponents

        jPanel1 = new javax.swing.JPanel();

        jScrollPane2 = new javax.swing.JScrollPane();

        grp_Text_imp = new javax.swing.JTextPane();

        jPanel3 = new javax.swing.JPanel();

        jPanel4 = new javax.swing.JPanel();

        jButton1 = new javax.swing.JButton();

        jButton2 = new javax.swing.JButton();

        grp_Check_special = new javax.swing.JCheckBox();

        jPanel5 = new javax.swing.JPanel();

        jScrollPane3 = new javax.swing.JScrollPane();

        grp_Text_facture = new javax.swing.JTextPane();

        jPanel2 = new javax.swing.JPanel();

        jScrollPane1 = new javax.swing.JScrollPane();

        grp_Text_org = new javax.swing.JTextPane();


        setTitle(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("memdostitle"));

        addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosing(java.awt.event.WindowEvent evt) {

                closeDialog(evt);

            }

        });


        jPanel1.setLayout(new java.awt.BorderLayout());


        jPanel1.setBorder(new javax.swing.border.TitledBorder(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("dosmemimp")));

        jPanel1.setPreferredSize(new java.awt.Dimension(20, 100));

        jScrollPane2.setHorizontalScrollBarPolicy(javax.swing.JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

        jScrollPane2.setViewportView(grp_Text_imp);


        jPanel1.add(jScrollPane2, java.awt.BorderLayout.CENTER);


        getContentPane().add(jPanel1, java.awt.BorderLayout.CENTER);


        jPanel3.setLayout(new java.awt.BorderLayout());


        jPanel3.setPreferredSize(new java.awt.Dimension(10, 160));

        jPanel4.setPreferredSize(new java.awt.Dimension(3, 30));

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 10));

        jButton1.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("valid"));

        jButton1.setPreferredSize(new java.awt.Dimension(150, 20));

        jButton1.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {

                jButton1ActionPerformed(evt);

            }

        });


        jPanel4.add(jButton1);


        jButton2.setFont(new java.awt.Font("Tahoma", 1, 10));

        jButton2.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("annul"));

        jButton2.setPreferredSize(new java.awt.Dimension(150, 20));

        jButton2.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {

                jButton2ActionPerformed(evt);

            }

        });


        jPanel4.add(jButton2);


        grp_Check_special.setFont(new java.awt.Font("Tahoma", 1, 10));

        grp_Check_special.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("specialdossier"));

        jPanel4.add(grp_Check_special);


        jPanel3.add(jPanel4, java.awt.BorderLayout.SOUTH);


        jPanel5.setLayout(new java.awt.BorderLayout());


        jPanel5.setBorder(new javax.swing.border.TitledBorder(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("dosmemofact")));

        jScrollPane3.setHorizontalScrollBarPolicy(javax.swing.JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

        jScrollPane3.setViewportView(grp_Text_facture);


        jPanel5.add(jScrollPane3, java.awt.BorderLayout.CENTER);


        jPanel3.add(jPanel5, java.awt.BorderLayout.CENTER);


        getContentPane().add(jPanel3, java.awt.BorderLayout.SOUTH);


        jPanel2.setLayout(new java.awt.BorderLayout());


        jPanel2.setBorder(new javax.swing.border.TitledBorder(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/Dossier").getString("dosmem")));

        jPanel2.setPreferredSize(new java.awt.Dimension(10, 200));

        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);

        jScrollPane1.setViewportView(grp_Text_org);


        jPanel2.add(jScrollPane1, java.awt.BorderLayout.CENTER);


        getContentPane().add(jPanel2, java.awt.BorderLayout.NORTH);


        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();

        setBounds((screenSize.width - 500) / 2, (screenSize.height - 500) / 2, 500, 500);

    }//GEN-END:initComponents


    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed

        doCancel();    // Add your handling code here:

    }//GEN-LAST:event_jButton2ActionPerformed


    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed

        doPrevious();

    }//GEN-LAST:event_jButton1ActionPerformed


    /**
     * Closes the dialog
     */

    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog

        setVisible(false);

        dispose();

    }//GEN-LAST:event_closeDialog


    /**
     * @param args the command line arguments
     */

    public static void main(String args[]) {


    }


    public void doAccept() {

    }


    public void doCancel() {

        setVisible(false);

        dispose();

    }


    public void doClose() {


    }


    public void doCreate() {

    }


    public void doDelete() {

    }


    public void doDown() {

    }


    public void doHelp() {

    }


    public void doModify() {

    }


    public void doNext() {

    }


    public void doPrevious() {

        if (m_dossierModule.getDossier() != null) {

            if (!grp_Text_org.getText().equals("") || !grp_Text_imp.getText().equals("") || !grp_Text_facture.getText().equals("")) {

                if (m_dossierModule.getDossier().getMemo() == null)

                    m_dossierModule.getDossier().setMemo(new Memo_T());

                m_dossierModule.getDossier().getMemo().setMemoOrg(grp_Text_org.getText());

                m_dossierModule.getDossier().getMemo().setMemoPrint(grp_Text_imp.getText());

                m_dossierModule.getDossier().getMemo().setMemoFacture(grp_Text_facture.getText());

                m_dossierModule.getDossier().getMemo().setEmpty(false);

                m_dossierModule.getDossier().getMemo().setSpecialdossier(grp_Check_special.isSelected() ? 1 : 0);

            } else {

                if (m_dossierModule.getDossier().getMemo() != null) {

                    m_dossierModule.getDossier().getMemo().setMemoOrg("");

                    m_dossierModule.getDossier().getMemo().setMemoPrint("");

                    m_dossierModule.getDossier().getMemo().setEmpty(true);

                }

            }

        }

        if (!m_dossierModule.getDossier().isNewreccord())

            m_dossierModule.getDossier().setModifreccord(true);

        setVisible(false);

        dispose();

    }

    public void doPrint() {

    }


    public void doSwitch() {

    }


    public void doUp() {

    }


    public int[] getDefaultActionToolBarMask() {

        return null;

    }


    public void registerKeyboardAction(java.awt.event.ActionListener action, javax.swing.KeyStroke keystroke, int focusType) {

        this.jPanel1.registerKeyboardAction(action, keystroke, focusType);

    }


    public void resetKeyboardActions() {

    }


    public void setThisAsToolBarComponent() {

    }


    public void doF10() {

    }

    // Variables declaration - do not modify//GEN-BEGIN:variables

    private javax.swing.JCheckBox grp_Check_special;

    private javax.swing.JTextPane grp_Text_facture;

    private javax.swing.JTextPane grp_Text_imp;

    private javax.swing.JTextPane grp_Text_org;

    private javax.swing.JButton jButton1;

    private javax.swing.JButton jButton2;

    private javax.swing.JPanel jPanel1;

    private javax.swing.JPanel jPanel2;

    private javax.swing.JPanel jPanel3;

    private javax.swing.JPanel jPanel4;

    private javax.swing.JPanel jPanel5;

    private javax.swing.JScrollPane jScrollPane1;

    private javax.swing.JScrollPane jScrollPane2;

    private javax.swing.JScrollPane jScrollPane3;

    // End of variables declaration//GEN-END:variables


}

