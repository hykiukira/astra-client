/* * newAviationPanel.java * * Created on 9 januari 2003, 17:33 */package srcastra.astra.gui.modules.dossier.productSpecification.gestionnairepaneaux;import srcastra.astra.gui.modules.*;import srcastra.astra.gui.modules.mainScreenModule.DossierMainScreenModule;import srcastra.astra.gui.components.*;import srcastra.astra.gui.event.ValidateField;import srcastra.astra.gui.sys.formVerification.*;import java.awt.event.*;import srcastra.astra.gui.components.actions.actionToolBar.*;import java.awt.Cursor;import srcastra.astra.gui.sys.utils.*;import srcastra.astra.sys.classetransfert.dossier.avion.*;import srcastra.astra.sys.classetransfert.dossier.*;import srcastra.astra.gui.sys.listModel.dossierListModel.*;import srcastra.astra.gui.event.*;import srcastra.astra.gui.components.actions.*;import srcastra.astra.sys.compta.*;import srcastra.astra.sys.*;import srcastra.astra.sys.classetransfert.*;/** * @author Thomas */public class NewAviationPanel extends javax.swing.JPanel implements InternScreenModule, srcastra.astra.gui.components.actions.actionToolBar.ToolBarComposer, InterfacePanel {    /**     * Creates new form newAviationPanel     */    srcastra.astra.gui.components.combobox.liste.FeesListeTableModel feesmodel;    srcastra.astra.gui.components.combobox.liste.PassagerListeTableModel passmodel;    public NewAviationPanel(AvionGui2 avparent) {        m_parent = avparent;        parent = m_parent.getMainScreenModule();        initComponents();        setSize(708, 325);        this.setBounds(0, 0, 708, 325);        composantToVerif = new AstraComponent[]{grp_TField_PNR, grp_ACB_typeDeBillet, grp_TField_NumeroBillet,                grp_ADate_DateEmission, grp_ADate_DateDepart, grp_ADate_DateCloture,                grp_ADate_DateAnnulation, /*grp_TField_TotalAnnulation, grp_TField_NumeroRefund,*/                grp_ACB_ModeDePaiement, grp_TField_NumeroCCCF, grp_TField_ValeurFaciale, grp_TField_ValeurNette,                grp_TField_ValeurDeVente, grp_Liste_fees, grp_TField_TaxeSurCompagnie, grp_TField_TaxeLocale,                grp_TField_TaxeDestination, grp_TField_FullFare, grp_LSelect_Compagnie, grp_ACB_Status,                grp_TField_ValeurCommission, grp_TField_ValeurRemise, grp_liste_passager};        setDocument();        if (m_parent.m_config.test == false)            initListe();        if (grp_ACB_ModeDePaiement.getSelectedIndex() <= 0) grp_ACB_ModeDePaiement.setSelectedIndex(0);        // grp_TField_ValeurRemise.addActionListener(m_parent.m_config.getValidate());        //  grp_ACB_Status.addActionListener(m_parent.m_config.getValidate());        grp_ACB_ModeDePaiement.addActionListener(modePayementListener);        grp_TField_ValeurCommission.addActionListener(modePayementListener);        tb_interaction = new ToolBarInteraction(parent, this, composantToVerif);        tb_interaction.setValidateActionEnvironnement(ToolBarInteraction.ACT_ENV_WITH_SWITCH_PROD);        for (int i = 0; i < composantToVerif.length; i++) {            composantToVerif[i].addActionListener(tb_interaction.getValidateActionListener());        }        m_parent.m_config.textarea = grp_TArea_Memo;        displayReadMode();        if (parent.getTicket() != null)            parent.getTicket().initialValue();    }    /* double remise=0;   double vente=0;   double taxloc=0;   double taxdest=0;   double taxcomp=0;   double fees=0;*/    private void initListe() {        grp_LSelect_Compagnie.setServeur(parent.getServeur());        grp_LSelect_Compagnie.setLogin(parent.getCurrentUser());        grp_LSelect_Compagnie.setModel(new srcastra.astra.gui.components.combobox.liste.CompagnieListeTableModel(parent.getServeur(), parent.getCurrentUser()));        // grp_LSelect_Transport.setClesignalitique(astrainterface.COMBO_TRANSPORT);        //grp_LSelect_Transport.setInterfaceManipulePanel(parent.getMainframe());        grp_LSelect_Compagnie.init2();        feesmodel = new srcastra.astra.gui.components.combobox.liste.FeesListeTableModel(parent.getServeur(), parent.getCurrentUser());        grp_Liste_fees.setServeur(parent.getServeur());        grp_Liste_fees.setLogin(parent.getCurrentUser());        grp_Liste_fees.setModel(feesmodel);        grp_Liste_fees.init2();        grp_Liste_fees.setFreeModeAllow(true);        feesmodel.setM_frcleunik(parent.getDossier().getCscleunik());        feesmodel.loadata();        grp_liste_passager.setServeur(parent.getServeur());        grp_liste_passager.setLogin(parent.getCurrentUser());        passmodel = new srcastra.astra.gui.components.combobox.liste.PassagerListeTableModel(parent.getServeur(), parent.getCurrentUser());        passmodel.setData(parent.getDossier().getPassager());        passmodel.loadata();        grp_liste_passager.setModel(passmodel);        grp_liste_passager.init2();    }/*private void setPassager(){      if(parent.getDossier().getPassager()!=null)                    for(int k=0;k<parent.getDossier().getPassager().size();k++){                        Passager_T pass=(Passager_T)parent.getDossier().getPassager().get(k);                        if(pass!=null){                        if(new Double(pass.getPr_cleunik()).intValue()==grp_liste_passager.getCleUnik()){                            ticket.setPassagert(pass);                            ticket.setPassager(new Double(pass.getPr_cleunik()).intValue());                            break;                        }                                         }                    }}*/    private void setDocument() {        grp_TField_PNR.setDocument(new DefaultMask(1, 15, parent.getCurrentUser().getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));        grp_TField_NumeroBillet.setDocument(new DefaultMask(0, 15, parent.getCurrentUser().getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));        grp_TField_NumeroCCCF.setDocument(new DefaultMask(0, 16, parent.getCurrentUser().getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));        grp_TField_NumeroBillet.setDocument(new DefaultMask(0, 10, parent.getCurrentUser().getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));        grp_TField_ValeurRemise.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_ValeurCommission.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_FullFare.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_TaxeDestination.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_TaxeLocale.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_TaxeSurCompagnie.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        // grp_TField_Fees.setDocument(new DecimalMask(5,2,parent.getCurrentUser().getLangage()));        grp_TField_ValeurDeVente.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_ValeurNette.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_ValeurFaciale.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));        grp_TField_TotalAnnulation.setDocument(new DecimalMask(5, 2, parent.getCurrentUser().getLangage()));    }    /* private ValidateField validateAndDoPrevious = new ValidateField() {        public void actionPerformed(ActionEvent evt) {            if (action == ActionToolBar.ACT_INSERT || action == ActionToolBar.ACT_MODIFY) {               m_parent.getM_mainPanel().doPrevious();            }        }    };*/    private ActionListener modePayementListener = new ActionListener() {        public void actionPerformed(ActionEvent evt) {            if (evt.getSource().equals(grp_ACB_ModeDePaiement)) {                if (grp_ACB_ModeDePaiement.getSelectedCleUnik() == 1) {                    grp_ACB_ModeDePaiement.setGrp_Comp_nextComponent(grp_TField_NumeroCCCF);                } else {                    grp_ACB_ModeDePaiement.setGrp_Comp_nextComponent(grp_TField_ValeurFaciale);                }            } else if (evt.getSource().equals(grp_TField_ValeurCommission)) {                try {                    // if(Float.parseFloat(grp_TField_ValeurDeVente.getText())==0.0f){                    double tmpvalue = Double.parseDouble(grp_TField_ValeurCommission.getText());                    double tmpvalue2 = Double.parseDouble(grp_TField_ValeurFaciale.getText());                    double result = tmpvalue2 - ((tmpvalue2 / 100) * tmpvalue);                    result = MathRound.roundThisToDouble(result);                    grp_TField_ValeurNette.setText("" + result);                    grp_TField_ValeurDeVente.setText("" + tmpvalue2);                    //grp_TField_ValeurCommission.setGrp_Comp_nextComponent(grp_TField_ValeurDeVente);                    //}                    //else{                    //  grp_TField_ValeurCommission.setGrp_Comp_nextComponent(grp_TField_ValeurRemise);                    // }                } catch (NumberFormatException ne) {                    System.out.println("erreur de parsing");                }            }        }    };    /**     * This method is called from within the constructor to     * <p/>     * <p/>     * initialize the form.     * <p/>     * <p/>     * WARNING: Do NOT modify this code. The content of this method is     * <p/>     * <p/>     * always regenerated by the Form Editor.     */    private void initComponents() {//GEN-BEGIN:initComponents        java.awt.GridBagConstraints gridBagConstraints;        jPanel1 = new javax.swing.JPanel();        jLabel19 = new javax.swing.JLabel();        jPanel9 = new javax.swing.JPanel();        jScrollPane1 = new javax.swing.JScrollPane();        grp_TArea_Memo = new javax.swing.JTextArea();        jPanel2 = new javax.swing.JPanel();        jPanel3 = new javax.swing.JPanel();        jPanel6 = new javax.swing.JPanel();        jLabel1 = new javax.swing.JLabel();        jLabel2 = new javax.swing.JLabel();        jLabel3 = new javax.swing.JLabel();        jLabel4 = new javax.swing.JLabel();        jLabel5 = new javax.swing.JLabel();        jLabel6 = new javax.swing.JLabel();        jLabel7 = new javax.swing.JLabel();        jLabel8 = new javax.swing.JLabel();        jLabel9 = new javax.swing.JLabel();        grp_Label_Groupe_produit_recap = new javax.swing.JLabel();        grp_TField_PNR = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_NumeroBillet = new srcastra.astra.gui.components.textFields.ATextField();        grp_ACB_typeDeBillet = new srcastra.astra.gui.components.combobox.aCombo.ACombo();        grp_Label_Fournisseur_recap = new javax.swing.JLabel();        grp_ADate_DateEmission = new srcastra.astra.gui.components.date.thedate.ADate();        grp_ADate_DateDepart = new srcastra.astra.gui.components.date.thedate.ADate();        grp_ADate_DateCloture = new srcastra.astra.gui.components.date.thedate.ADate();        grp_ADate_DateAnnulation = new srcastra.astra.gui.components.date.thedate.ADate();        jPanel4 = new javax.swing.JPanel();        jPanel7 = new javax.swing.JPanel();        jLabel10 = new javax.swing.JLabel();        jLabel11 = new javax.swing.JLabel();        jLabel12 = new javax.swing.JLabel();        jLabel13 = new javax.swing.JLabel();        jLabel14 = new javax.swing.JLabel();        jLabel15 = new javax.swing.JLabel();        jLabel16 = new javax.swing.JLabel();        jLabel17 = new javax.swing.JLabel();        grp_Label_Annulation = new javax.swing.JLabel();        grp_ACB_ModeDePaiement = new srcastra.astra.gui.components.combobox.aCombo.ACombo();        grp_TField_NumeroRefund = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_NumeroCCCF = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_TotalAnnulation = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_ValeurNette = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_ValeurFaciale = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_ValeurDeVente = new srcastra.astra.gui.components.textFields.ATextField();        jLabel27 = new javax.swing.JLabel();        grp_TField_ValeurCommission = new srcastra.astra.gui.components.textFields.ATextField();        jPanel5 = new javax.swing.JPanel();        jPanel8 = new javax.swing.JPanel();        jLabel20 = new javax.swing.JLabel();        jLabel21 = new javax.swing.JLabel();        jLabel22 = new javax.swing.JLabel();        jLabel23 = new javax.swing.JLabel();        jLabel24 = new javax.swing.JLabel();        jLabel25 = new javax.swing.JLabel();        jLabel26 = new javax.swing.JLabel();        grp_TField_TaxeLocale = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_TaxeDestination = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_ValeurRemise = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_TaxeSurCompagnie = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_FullFare = new srcastra.astra.gui.components.textFields.ATextField();        grp_ACB_Status = new srcastra.astra.gui.components.combobox.aCombo.ACombo();        grp_LSelect_Compagnie = new srcastra.astra.gui.components.combobox.liste.Liste();        jLabel18 = new javax.swing.JLabel();        grp_Liste_fees = new srcastra.astra.gui.components.combobox.liste.Liste();        jLabel28 = new javax.swing.JLabel();        grp_liste_passager = new srcastra.astra.gui.components.combobox.liste.Liste();        setLayout(new java.awt.BorderLayout());        setPreferredSize(new java.awt.Dimension(701, 215));        jPanel1.setPreferredSize(new java.awt.Dimension(695, 30));        jLabel19.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel19.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TArea_memo"));        jPanel1.add(jLabel19);        jPanel9.setAlignmentX(0.0F);        jPanel9.setAlignmentY(0.0F);        jPanel1.add(jPanel9);        jScrollPane1.setPreferredSize(new java.awt.Dimension(650, 50));        grp_TArea_Memo.setLineWrap(true);        grp_TArea_Memo.setMinimumSize(new java.awt.Dimension(100, 40));        jScrollPane1.setViewportView(grp_TArea_Memo);        jPanel1.add(jScrollPane1);        add(jPanel1, java.awt.BorderLayout.CENTER);        jPanel2.setLayout(new java.awt.GridLayout(1, 0));        jPanel2.setPreferredSize(new java.awt.Dimension(10, 185));        jPanel6.setLayout(new java.awt.GridBagLayout());        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel1.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_Label_Fournisseur_recap"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel1, gridBagConstraints);        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel2.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_LSelect_GroupeProduit"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel2, gridBagConstraints);        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel3.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ACB_typeDeBillet"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel3, gridBagConstraints);        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel4.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_PNR"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel4, gridBagConstraints);        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel5.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ADate_DateEmission"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel5, gridBagConstraints);        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel6.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_NumeroBillet"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel6, gridBagConstraints);        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel7.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ADate_DateDepart"));        jLabel7.setToolTipText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ADate_DateDepart"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 6;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel7, gridBagConstraints);        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel8.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ADate_DateCloture"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel8, gridBagConstraints);        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel9.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ADate_DateAnnulation"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 8;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel9, gridBagConstraints);        grp_Label_Groupe_produit_recap.setFont(new java.awt.Font("Tahoma", 0, 10));        grp_Label_Groupe_produit_recap.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_Label_Groupe_produit_recap, gridBagConstraints);        grp_TField_PNR.setEnabled(false);        grp_TField_PNR.setGrp_Comp_nextComponent(grp_ACB_typeDeBillet);        grp_TField_PNR.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_PNR.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_TField_PNR, gridBagConstraints);        grp_TField_NumeroBillet.setEnabled(false);        grp_TField_NumeroBillet.setGrp_Comp_nextComponent(grp_ADate_DateEmission);        grp_TField_NumeroBillet.setToolTipText("");        grp_TField_NumeroBillet.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_NumeroBillet.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_TField_NumeroBillet, gridBagConstraints);        grp_ACB_typeDeBillet.setEnabled(false);        grp_ACB_typeDeBillet.setGrp_Comp_nextComponent(grp_TField_NumeroBillet);        grp_ACB_typeDeBillet.setModel(new TypeBilletListModel(parent.getServeur(), parent.getCurrentUser()));        grp_ACB_typeDeBillet.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_ACB_typeDeBillet, gridBagConstraints);        grp_Label_Fournisseur_recap.setFont(new java.awt.Font("Tahoma", 0, 10));        grp_Label_Fournisseur_recap.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_Label_Fournisseur_recap, gridBagConstraints);        grp_ADate_DateEmission.setCheckUptodate(true);        grp_ADate_DateEmission.setEnabled(false);        grp_ADate_DateEmission.setForm(this);        grp_ADate_DateEmission.setGrp_Comp_nextComponent(grp_ADate_DateDepart);        grp_ADate_DateEmission.setUser(parent.getCurrentUser());        grp_ADate_DateEmission.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_ADate_DateEmission.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_ADate_DateEmission, gridBagConstraints);        grp_ADate_DateDepart.setCheckUptodate(true);        grp_ADate_DateDepart.setEnabled(false);        grp_ADate_DateDepart.setForm(this);        grp_ADate_DateDepart.setGrp_Comp_nextComponent(grp_ADate_DateCloture);        grp_ADate_DateDepart.setUser(parent.getCurrentUser());        grp_ADate_DateDepart.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_ADate_DateDepart.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 6;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_ADate_DateDepart, gridBagConstraints);        grp_ADate_DateCloture.setEnabled(false);        grp_ADate_DateCloture.setForm(this);        grp_ADate_DateCloture.setGrp_Comp_nextComponent(grp_ACB_ModeDePaiement);        grp_ADate_DateCloture.setUser(parent.getCurrentUser());        grp_ADate_DateCloture.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_ADate_DateCloture.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_ADate_DateCloture, gridBagConstraints);        grp_ADate_DateAnnulation.setEnabled(false);        grp_ADate_DateAnnulation.setForm(this);        grp_ADate_DateAnnulation.setUser(parent.getCurrentUser());        grp_ADate_DateAnnulation.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_ADate_DateAnnulation.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 8;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_ADate_DateAnnulation, gridBagConstraints);        jPanel3.add(jPanel6);        jPanel2.add(jPanel3);        jPanel7.setLayout(new java.awt.GridBagLayout());        jLabel10.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel10.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ACB_TypeAnnulation"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel10, gridBagConstraints);        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel11.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_NumeroRefund"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel11, gridBagConstraints);        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel12.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TotalAnnulation"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel12, gridBagConstraints);        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel13.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_ACB_ModeDePaiement"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel13, gridBagConstraints);        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel14.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurFaciale"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel14, gridBagConstraints);        jLabel15.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel15.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_NumeroCCCF"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel15, gridBagConstraints);        jLabel16.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel16.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurNette"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel16, gridBagConstraints);        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel17.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurDeVente"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 8;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel17, gridBagConstraints);        grp_Label_Annulation.setFont(new java.awt.Font("Tahoma", 0, 10));        grp_Label_Annulation.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_Label_Annulation, gridBagConstraints);        grp_ACB_ModeDePaiement.setEnabled(false);        grp_ACB_ModeDePaiement.setGrp_Comp_nextComponent(grp_TField_NumeroCCCF);        grp_ACB_ModeDePaiement.setModel(new ModePaiementListModel(parent.getServeur(), parent.getCurrentUser()));        grp_ACB_ModeDePaiement.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_ACB_ModeDePaiement, gridBagConstraints);        grp_TField_NumeroRefund.setEnabled(false);        grp_TField_NumeroRefund.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_NumeroRefund, gridBagConstraints);        grp_TField_NumeroCCCF.setEnabled(false);        grp_TField_NumeroCCCF.setGrp_Comp_nextComponent(grp_TField_ValeurFaciale);        grp_TField_NumeroCCCF.setPreferredSize(new java.awt.Dimension(105, 18));        grp_TField_NumeroCCCF.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_NumeroCCCF.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_NumeroCCCF, gridBagConstraints);        grp_TField_TotalAnnulation.setEnabled(false);        grp_TField_TotalAnnulation.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_TotalAnnulation, gridBagConstraints);        grp_TField_ValeurNette.setEnabled(false);        grp_TField_ValeurNette.setGrp_Comp_nextComponent(grp_TField_ValeurDeVente);        grp_TField_ValeurNette.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_ValeurNette.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_ValeurNette, gridBagConstraints);        grp_TField_ValeurFaciale.setEnabled(false);        grp_TField_ValeurFaciale.setGrp_Comp_nextComponent(grp_TField_ValeurCommission);        grp_TField_ValeurFaciale.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_ValeurFaciale.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_ValeurFaciale, gridBagConstraints);        grp_TField_ValeurDeVente.setEnabled(false);        grp_TField_ValeurDeVente.setGrp_Comp_nextComponent(grp_TField_TaxeLocale);        grp_TField_ValeurDeVente.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_ValeurDeVente.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 8;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_ValeurDeVente, gridBagConstraints);        jLabel27.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel27.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurCommission"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 6;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel7.add(jLabel27, gridBagConstraints);        grp_TField_ValeurCommission.setEnabled(false);        grp_TField_ValeurCommission.setGrp_Comp_nextComponent(grp_TField_ValeurDeVente);        grp_TField_ValeurCommission.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_ValeurCommission.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 6;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel7.add(grp_TField_ValeurCommission, gridBagConstraints);        jPanel4.add(jPanel7);        jPanel2.add(jPanel4);        jPanel8.setLayout(new java.awt.GridBagLayout());        jLabel20.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel20.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeLocale"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 0;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel20, gridBagConstraints);        jLabel21.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel21.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurRemise"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel21, gridBagConstraints);        jLabel22.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel22.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeDestination"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel22, gridBagConstraints);        jLabel23.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel23.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeSurCompagnie"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel23, gridBagConstraints);        jLabel24.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel24.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_FullFare"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel24, gridBagConstraints);        jLabel25.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel25.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_LSelect_Compagnie"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 6;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel25, gridBagConstraints);        jLabel26.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel26.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_Statut"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel26, gridBagConstraints);        grp_TField_TaxeLocale.setEnabled(false);        grp_TField_TaxeLocale.setGrp_Comp_nextComponent(grp_TField_TaxeDestination);        grp_TField_TaxeLocale.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_TaxeLocale.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 0;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_TField_TaxeLocale, gridBagConstraints);        grp_TField_TaxeDestination.setEnabled(false);        grp_TField_TaxeDestination.setGrp_Comp_nextComponent(grp_TField_TaxeSurCompagnie);        grp_TField_TaxeDestination.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_TaxeDestination.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_TField_TaxeDestination, gridBagConstraints);        grp_TField_ValeurRemise.setEnabled(false);        grp_TField_ValeurRemise.setGrp_Comp_nextComponent(grp_TField_FullFare);        grp_TField_ValeurRemise.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_ValeurRemise.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 4;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_TField_ValeurRemise, gridBagConstraints);        grp_TField_TaxeSurCompagnie.setEnabled(false);        grp_TField_TaxeSurCompagnie.setGrp_Comp_nextComponent(grp_Liste_fees);        grp_TField_TaxeSurCompagnie.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_TaxeSurCompagnie.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_TField_TaxeSurCompagnie, gridBagConstraints);        grp_TField_FullFare.setEnabled(false);        grp_TField_FullFare.setGrp_Comp_nextComponent(grp_LSelect_Compagnie);        grp_TField_FullFare.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_FullFare.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 5;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_TField_FullFare, gridBagConstraints);        grp_ACB_Status.setEnabled(false);        grp_ACB_Status.setGrp_Comp_nextComponent(grp_liste_passager);        grp_ACB_Status.setModel(new StatusListModel(parent.getServeur(), parent.getCurrentUser()));        grp_ACB_Status.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 7;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_ACB_Status, gridBagConstraints);        grp_LSelect_Compagnie.setEnabled(false);        grp_LSelect_Compagnie.setGrp_Comp_nextComponent(grp_ACB_Status);        grp_LSelect_Compagnie.setPreferredSize(new java.awt.Dimension(100, 18));        grp_LSelect_Compagnie.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_LSelect_Compagnie.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 6;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_LSelect_Compagnie, gridBagConstraints);        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel18.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_Fees"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel18, gridBagConstraints);        grp_Liste_fees.setCanbenull(true);        grp_Liste_fees.setEnabled(false);        grp_Liste_fees.setGrp_Comp_nextComponent(grp_TField_ValeurRemise);        grp_Liste_fees.setPreferredSize(new java.awt.Dimension(100, 18));        grp_Liste_fees.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_Liste_fees.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_Liste_fees, gridBagConstraints);        jLabel28.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel28.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_Liste_pass"));        jLabel28.setPreferredSize(new java.awt.Dimension(60, 13));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 8;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel8.add(jLabel28, gridBagConstraints);        grp_liste_passager.setCanbenull(true);        grp_liste_passager.setEnabled(false);        grp_liste_passager.setGrp_Comp_nextComponent(grp_TArea_Memo);        grp_liste_passager.setPreferredSize(new java.awt.Dimension(100, 18));        grp_liste_passager.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_liste_passager.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 8;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel8.add(grp_liste_passager, gridBagConstraints);        jPanel5.add(jPanel8);        jPanel2.add(jPanel5);        add(jPanel2, java.awt.BorderLayout.NORTH);    }//GEN-END:initComponents    private void fillTaxe() {        java.util.Hashtable sup_reducs = parent.getTicket().getSup_reduc();        if (sup_reducs != null) {            java.util.Iterator it = sup_reducs.values().iterator();            Sup_reduc_T tmp_sup = null;            int ac_key = 0;            grp_TField_TaxeLocale.setText("" + 0);            grp_TField_TaxeDestination.setText("" + 0);            grp_TField_TaxeSurCompagnie.setText("" + 0);            srcastra.astra.gui.components.combobox.liste.ManageFreeListe.setValue(0, "0", grp_Liste_fees);            grp_TField_ValeurRemise.setText("" + 0);            while (it.hasNext()) {                tmp_sup = (Sup_reduc_T) it.next();                if (!tmp_sup.isDeleted()) {                    ac_key = tmp_sup.getAclibelle();                    /* case -1 :                    grp_TField_TaxeLocale.setText(""+tmp_sup.getAt_val_vente());                    break;                case -2 :                    grp_TField_TaxeDestination.setText(""+tmp_sup.getAt_val_vente());                    break;                case -3 :                    grp_TField_TaxeSurCompagnie.setText(""+tmp_sup.getAt_val_vente());                    break;                case -4 :                    grp_TField_Fees.setText(""+tmp_sup.getAt_val_vente());                    break;                case -5 :                    grp_TField_ValeurRemise.setText(""+tmp_sup.getAt_val_vente());*/                    switch (ac_key) {                        case -1: {                            grp_TField_TaxeLocale.setText("" + tmp_sup.getAt_val_vente());                            parent.getTicket().setAt_tax_locale(tmp_sup.getAt_val_vente());                            break;                        }                        case -2: {                            grp_TField_TaxeDestination.setText("" + tmp_sup.getAt_val_vente());                            parent.getTicket().setAt_tax_destination(tmp_sup.getAt_val_vente());                            break;                        }                        case -3: {                            grp_TField_TaxeSurCompagnie.setText("" + tmp_sup.getAt_val_vente());                            parent.getTicket().setAt_tax_compagnie(tmp_sup.getAt_val_vente());                            break;                        }                        case -4: {                            srcastra.astra.gui.components.combobox.liste.ManageFreeListe.setValue(0, "" + tmp_sup.getAt_val_vente(), grp_Liste_fees);                            parent.getTicket().setAt_fees(tmp_sup.getAt_val_vente());                            break;                        }                        case -5: {                            grp_TField_ValeurRemise.setText("" + tmp_sup.getAt_val_vente());                            parent.getTicket().setAt_val_remise(tmp_sup.getAt_val_vente());                            break;                        }                    }                }            }        }    }    private void checkTaxeContent() {        //System.out.println("\n\n\nchecktaxecontent ");        Logger.getDefaultLogger().setMinLogLevel(1);        Logger.getDefaultLogger().log(Logger.LOG_WARNING, "[LOGGER]test loger");        // System.out.println("\n\n\nendtestlogger ");        double locale = 0;        double destination = 0;        double compagnie = 0;        double fees = 0;        double remise = 0;        try {            locale = Double.parseDouble(grp_TField_TaxeLocale.getText());        } catch (NumberFormatException nn) {            locale = 0;        }        try {            destination = Double.parseDouble(grp_TField_TaxeDestination.getText());        } catch (NumberFormatException nn) {            destination = 0;        }        try {            compagnie = Double.parseDouble(grp_TField_TaxeSurCompagnie.getText());        } catch (NumberFormatException nn) {            compagnie = 0;        }        try {            fees = Double.parseDouble(grp_Liste_fees.getText());        } catch (NumberFormatException nn) {            fees = 0;        }        try {            remise = Double.parseDouble(grp_TField_ValeurRemise.getText());        } catch (NumberFormatException nn) {            remise = 0;        }        boolean is_locale = false;        boolean is_destination = false;        boolean is_compagnie = false;        boolean is_fees = false;        boolean is_aChange = false;        boolean is_remise = false;        String[] free_libele = new String[5];        int[] ac_libele = new int[5];        int[] changed = new int[]{0, 0, 0, 0, 0};        long[] del_keys = new long[]{0, 0, 0, 0, 0};        double[] prix = new double[]{0d, 0d, 0d, 0d, 0d};        java.util.Hashtable sup_reducs = parent.getTicket().getSup_reduc();        if (sup_reducs != null) {            Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "[LOGGER]supreduc liste not null");            java.util.Iterator it = sup_reducs.values().iterator();            Sup_reduc_T tmp_sup = null;            int ac_key = 0;            while (it.hasNext()) {                tmp_sup = (Sup_reduc_T) it.next();                ac_key = tmp_sup.getAclibelle();                if (!tmp_sup.isDeleted()) {                    switch (ac_key) {                        case -1:                            is_locale = true;                            del_keys[0] = tmp_sup.getAt_cleunik();                            Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "je delete la tax locale idsup:" + tmp_sup.getSup_reduc_cleunik() + "  idlibelle" + tmp_sup.getAclibelle());                            break;                        case -2:                            is_destination = true;                            del_keys[1] = tmp_sup.getAt_cleunik();                            Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "je delete la tax destination idsup:" + tmp_sup.getSup_reduc_cleunik() + "  idlibelle" + tmp_sup.getAclibelle());                            break;                        case -3:                            is_compagnie = true;                            del_keys[2] = tmp_sup.getAt_cleunik();                            Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "je delete la tax compagnie idsup:" + tmp_sup.getSup_reduc_cleunik() + "  idlibelle" + tmp_sup.getAclibelle());                            break;                        case -4:                            is_fees = true;                            del_keys[3] = tmp_sup.getAt_cleunik();                            Logger.getDefaultLogger().log(Logger.LOG_DEBUG, "je delete la tax fees idsup:" + tmp_sup.getSup_reduc_cleunik() + "  idlibelle" + tmp_sup.getAclibelle());                            break;                        case -5:                            is_remise = true;                            del_keys[4] = tmp_sup.getAt_cleunik();                            Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "je delete la tax remise idsup:" + tmp_sup.getSup_reduc_cleunik() + "  idlibelle" + tmp_sup.getAclibelle());                            break;                    }                }            }        } else            System.out.println(Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY, "supreduc liste null"));        if (locale >= 0f) {            checkTaxe(0, locale, is_locale, -1, java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeLocale"), del_keys, changed, free_libele, ac_libele, prix);            //checkTaxe(int i,double value,boolean local,int libelle,String libelle,int[] del_keys,int[] changed,String[] free_libele,int[] ac_libele,double[] prix){            /*     System.out.println(Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY,"Ok local >0"));          //  free_libele[0] = grp_Pan_SupReducPanelEdition.getLibele(2);            free_libele[0] ="Taxe locale";            ac_libele[0] = -1;            if(locale>0f)                changed[0] = 1;            prix[0]=locale;            if(is_locale){                delTaxe(del_keys[0]);                is_aChange = true;                            }*/        }        if (destination >= 0f) {            checkTaxe(1, destination, is_destination, -2, java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeDestination"), del_keys, changed, free_libele, ac_libele, prix);            //  free_libele[1] = grp_Pan_SupReducPanelEdition.getLibele(3);            /*      Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY,"Ok destination >0");                free_libele[1] ="Taxe de destination";                ac_libele[1] = -2;                if(destination>0f)                    changed[1] = 1;                prix[1]=destination;                if (is_destination) {                    delTaxe(del_keys[1]);                    is_aChange = true;            }*/        }        if (compagnie >= 0f) {            checkTaxe(2, compagnie, is_compagnie, -3, java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_TaxeSurCompagnie"), del_keys, changed, free_libele, ac_libele, prix);            // free_libele[2] = grp_Pan_SupReducPanelEdition.getLibele(4);            /*    Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY,"Ok compagnie >0");                free_libele[2] ="Taxe de la compagnie";                ac_libele[2] = -3;                if(compagnie>0f)                    changed[2] = 1;                prix[2]=compagnie;                if (is_compagnie) {                    delTaxe(del_keys[2]);                    is_aChange = true;            }*/        }        if (fees >= 0f) {            checkTaxe(3, fees, is_fees, -4, "Fees", del_keys, changed, free_libele, ac_libele, prix);            // free_libele[3] = grp_Pan_SupReducPanelEdition.getLibele(5);            /*  Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY,"Ok fees >0");              free_libele[3] ="Fees";              ac_libele[3] = -4;              if(fees > 0f)                  changed[3] = 1;              prix[3]=fees;              if (is_fees) {                  delTaxe(del_keys[3]);                  is_aChange = true;            }*/        }        if (remise >= 0f) {            checkTaxe(3, remise, is_remise, -5, java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel", parent.getCurrentUser().getLangage()).getString("grp_TField_ValeurRemise"), del_keys, changed, free_libele, ac_libele, prix);            // free_libele[3] = grp_Pan_SupReducPanelEdition.getLibele(5);            /*    Logger.getDefaultLogger().log(Logger.LOG_EMERGENCY,"Ok remise >0");                free_libele[4] ="Remise";                ac_libele[4] = -5;                if(remise>0f)                    changed[4] = 1;                prix[4]=remise;                 if (is_remise) {                    delTaxe(del_keys[4]);                    is_aChange = true;            }*/        }        Sup_reduc_T supReduc = null;        for (int i = 0; i < changed.length; i++) {            if (changed[i] == 1) {                supReduc = new Sup_reduc_T();                if (i != 4) {                    supReduc.setSup(1);                    supReduc.setAt_val_vente(prix[i]);                } else {                    supReduc.setAt_val_vente(Math.abs(prix[i]) * -1);                    supReduc.setReduc(1);                }                try {                    supReduc.setGroupdec((srcastra.astra.sys.classetransfert.Grpdecision_T) parent.getTicket().getGroupdecBase().clone());                } catch (CloneNotSupportedException cn) {                    cn.printStackTrace();                }                supReduc.setSup_reduc_cleunik(parent.getSupReducCompteur());                parent.decrementSupReducCompteur();                supReduc.setParent(parent.getTicket());                supReduc.setSoumis_tva(1);                supReduc.setAclibelle(ac_libele[i]);                CheckCptSupReduc.checkGrpDec(supReduc.getGroupdec(), supReduc.getAclibelle(), 0);                supReduc.setFreeLibelle(free_libele[i].toUpperCase());                supReduc.setNewreccord(true);                supReduc.calculMontantTotal();                parent.getTicket().addSup_Reduc(supReduc);                is_aChange = true;            }        }        // apply refresh if value is changed         // if (is_aChange) {        parent.calculTotalUnProduit(parent.getTicket());        //}                 }    private void delTaxe(long key, double value, int i, double[] prix) {        Long cle = new Long(key);        java.util.Hashtable htbl = parent.getTicket().getSup_reduc();        if (value > 0) {            Sup_reduc_T obj = (Sup_reduc_T) htbl.get(cle);            obj.setModifyreccord(true);            if (obj.getAclibelle() != -5) {                obj.setSup(1);                obj.setAt_val_vente(value);            } else {                obj.setAt_val_vente(Math.abs(value) * -1);                obj.setReduc(1);            }            obj.calculMontantTotal();        } else if (value == 0) {            if (parent.getTicket().isIsnewreccord()) {                htbl.remove(cle);            } else {                Sup_reduc_T obj = (Sup_reduc_T) htbl.get(cle);                obj.setDeleted(true);                parent.getDossier().setModifreccord(true);                parent.getTicket().setModify(true);            }        }    }    private boolean checkTaxe(int i, double value, boolean local, int lib, String libelle, long[] del_keys, int[] changed, String[] free_libele, int[] ac_libele, double[] prix) {        if (local)            delTaxe(del_keys[i], value, i, prix);        else {            free_libele[i] = libelle;            ac_libele[i] = lib;            if (value > 0f)                changed[i] = 1;            prix[i] = value;        }        return true;    }    public void doAccept() {    }    public void doCancel() {    }    public void doClose() {    }    public void doCreate() {    }    public void doDelete() {    }    public void doHelp() {    }    public void doModify() {    }    private void openFields(int action)    {        this.action = action;        //if (action != ActionToolBar.ACT_INSERT) chargeData();        for (int i = 0; i < composantToVerif.length; i++) {            composantToVerif[i].setEnabled(true);            composantToVerif[i].setLastFocusedComponent(true);        }        grp_TField_PNR.requestFocus();        // parent.setCurrentActionEnabled(new int[] { ActionToolBar.DO_CANCEL });        grp_TArea_Memo.setEnabled(true);        grp_TField_PNR.requestFocus();    }    public void doNext() {    }    private boolean checkValidityVa_ve()    {        double value;        boolean sw;        try {            sw = false;            value = Double.parseDouble(grp_TField_ValeurDeVente.getText());        } catch (NumberFormatException nn) {            grp_TField_ValeurDeVente.setText("0");            return false;        }        m_parent.setCheck(true);        if (value == 0.0)        {            if (!m_parent.m_config.test)                parent.getMessageManager().showMessageDialog(this, "check_va_ve", "check_va_ve_titre", parent.getCurrentUser());            sw = true;            m_parent.setCheck(false);        }        return sw;    }    public void doPrevious() {        /*    grp_TField_PNR.requestFocus();       parent.changeCursor(CursorChange.CHANGE_CURSOR_EVERYWHERE,new Cursor(Cursor.WAIT_CURSOR));       switch (action) {           case ActionToolBar.ACT_INSERT :               if(!checkValidityVa_ve()){                   if(!m_parent.m_config.test)                   checkTaxeContent();                   dbInsert();                  // reloadTableModel();                  // doSwitch();               }               else grp_TField_ValeurDeVente.requestFocus();               break;           case ActionToolBar.ACT_MODIFY :                if(!checkValidityVa_ve()){                     if(!m_parent.m_config.test)                   checkTaxeContent();                   dbUpdate();                  // doSwitch();                   //grp_Pan_SupReducPanel.                }                else grp_TField_ValeurDeVente.requestFocus();               break;           case ActionToolBar.ACT_READ :              //validateProduct();               break;       }       parent.changeCursor(CursorChange.CHANGE_CURSOR_EVERYWHERE,new Cursor(Cursor.DEFAULT_CURSOR));*/    }    public int doPrevious(boolean sw) {        int retval = 0;        grp_TField_PNR.requestFocus();        parent.changeCursor(CursorChange.CHANGE_CURSOR_EVERYWHERE, new Cursor(Cursor.WAIT_CURSOR));        switch (action) {            case ActionToolBar.ACT_INSERT:                if (!checkValidityVa_ve()) {                    retval = 1;                    if (!m_parent.m_config.test)                        checkTaxeContent();                    dbInsert();                } else grp_TField_ValeurDeVente.requestFocus();                break;            case ActionToolBar.ACT_MODIFY:                if (!checkValidityVa_ve()) {                    retval = 1;                    if (!m_parent.m_config.test)                        checkTaxeContent();                    dbUpdate();                    // doSwitch();                    //grp_Pan_SupReducPanel.                } else grp_TField_ValeurDeVente.requestFocus();                break;            case ActionToolBar.ACT_READ:                //validateProduct();                break;        }        parent.changeCursor(CursorChange.CHANGE_CURSOR_EVERYWHERE, new Cursor(Cursor.DEFAULT_CURSOR));        return retval;    }    private void setDefaultDecimalValue() {        grp_TField_ValeurRemise.setText("0");        if (m_parent.m_config.test == false) {            if (parent.getTicket().getGroupdec() != null)                grp_TField_ValeurCommission.setText("" + parent.getTicket().getGroupdec().getGnpccomvente());        }        grp_TField_FullFare.setText("0");        grp_TField_TaxeDestination.setText("0");        grp_TField_TaxeLocale.setText("0");        grp_TField_TaxeSurCompagnie.setText("0");        srcastra.astra.gui.components.combobox.liste.ManageFreeListe.setValue(0, "0", grp_Liste_fees);        grp_TField_ValeurDeVente.setText("0");        grp_TField_ValeurNette.setText("0");        grp_TField_ValeurFaciale.setText("0");        grp_TField_TotalAnnulation.setText("0");        grp_TArea_Memo.setText("");    }    public void dbInsert() {        chargeAvionClassInsert();        parent.getTicket().setLocalyModify(true);        // parent.calculTotalUnProduit(parent.getTicket());        displayReadMode();    }    private void chargeAvionClassInsert() {        if (!parent.getDossier().isNewreccord())            parent.getDossier().setModifreccord(true);        parent.getTicket().setAt_cleunik(parent.getTicketcompteur());        parent.decrementeTicketcompteur();        //   if(parent.getDossier().getPoBilletIntitule().equals(""))        //     parent.getDossier().setPoBilletIntitule(parent.getTicket().getAt_num_billet());        // if(parent.getDossier().getFournIntitule().equals(""))        //   parent.getDossier().setFournIntitule(parent.getTicket().getFrnom());        parent.getTicket().setIsnewreccord(true);        parent.getTicket().setLongtime();        // parent.getTicket().setDatetimecrea(new srcastra.astra.sys.classetransfert.utils.Date());        //parent.getTicket().getDatetimecrea().setLongTime();        chargeAvionClass();    }    private Avion_ticket_T chargeAvionClass()    {        parent.getTicket().setAt_pnr("" + grp_TField_PNR.getText());        parent.getTicket().setAt_type_billet(grp_ACB_typeDeBillet.getSelectedCleUnik());        parent.getTicket().setAt_num_billet("" + grp_TField_NumeroBillet.getText());        parent.getTicket().setAt_date_emission(grp_ADate_DateEmission.getDate());        parent.getTicket().setAt_date_depart(grp_ADate_DateDepart.getDate());        parent.getTicket().setAt_annul_date(grp_ADate_DateAnnulation.getDate());        try {            parent.getTicket().setAt_annul_tot(Double.parseDouble(grp_TField_TotalAnnulation.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_annul_tot(0);        }        parent.getTicket().setAt_numrefund("" + grp_TField_NumeroRefund.getText());        parent.getTicket().setAt_cloture_date(grp_ADate_DateCloture.getDate());        parent.getTicket().setAt_mode_paiement(grp_ACB_ModeDePaiement.getSelectedCleUnik());        parent.getTicket().setAt_num_cccf("" + grp_TField_NumeroCCCF.getText());        try {            parent.getTicket().setAt_val_facial(Double.parseDouble(grp_TField_ValeurFaciale.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_val_facial(0);        }        try {            parent.getTicket().setAt_val_nette(Double.parseDouble(grp_TField_ValeurNette.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_val_nette(0);        }        try {            parent.getTicket().setAt_val_vente(Double.parseDouble(grp_TField_ValeurDeVente.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_val_vente(0);        }        try {            parent.getTicket().setValeur_tot(Double.parseDouble(grp_TField_ValeurDeVente.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setValeur_tot(0);        }        try {            parent.getTicket().setAt_fees(Double.parseDouble(grp_Liste_fees.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_fees(0);        }        try {            parent.getTicket().setAt_tax_compagnie(Double.parseDouble(grp_TField_TaxeSurCompagnie.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_tax_compagnie(0);        }        try {            parent.getTicket().setAt_tax_locale(Double.parseDouble(grp_TField_TaxeLocale.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_tax_locale(0);        }        try {            parent.getTicket().setAt_tax_destination(Double.parseDouble(grp_TField_TaxeDestination.getText()));        } catch (NumberFormatException ne) {            parent.getTicket().setAt_tax_destination(0);        }        try {            parent.getTicket().setAt_fullfare(Double.parseDouble(grp_TField_FullFare.getText()));        } catch (NumberFormatException ne) {            parent.getTicket().setAt_fullfare(0);        }        parent.getTicket().setCoe_cleunik(grp_LSelect_Compagnie.getCleUnik());        parent.getTicket().setCompagnie_nom(grp_LSelect_Compagnie.getText());        try {            parent.getTicket().setAt_val_com(Double.parseDouble(grp_TField_ValeurCommission.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_val_com(0);        }        try {            parent.getTicket().setAt_val_remise(Double.parseDouble(grp_TField_ValeurRemise.getText()));        } catch (NumberFormatException ne)        {            parent.getTicket().setAt_val_remise(0);        }        parent.getTicket().setAt_memo(grp_TArea_Memo.getText());        parent.getTicket().setStatut(grp_ACB_Status.getSelectedCleUnik());        parent.getTicket().setMyPassager(parent.getDossier().getPassager());        parent.getTicket().calculMontantTotal();        parent.getTicket().prepareAffichage();        return ticket;    }    private void chargeAvionClassUpdate() {        //if(!parent.getTicket().isIsnewreccord())        if (!parent.getDossier().isNewreccord())            parent.getDossier().setModifreccord(true);        if (!parent.getTicket().isIsnewreccord())            parent.getTicket().setModify(true);        parent.getTicket().calculMontantTotal();        chargeAvionClass();    }    /*  private void checkTaxeContent() {        float locale = Float.parseFloat(grp_TField_TaxeLocale.getText());        float destination = Float.parseFloat(grp_TField_TaxeDestination.getText());        float compagnie = Float.parseFloat(grp_TField_TaxeSurCompagnie.getText());        float fees = Float.parseFloat(grp_TField_Fees.getText());                boolean is_locale = false;        boolean is_destination = false;        boolean is_compagnie = false;        boolean is_fees = false;                boolean is_aChange = false;                String[] free_libele = new String[4];        int[] ac_libele = new int[4];        int[] changed = new int[] { 0, 0, 0, 0 };        long[] del_keys = new long[] { 0, 0, 0, 0 };        float[] prix=new float[]{0,0,0,0};                java.util.Hashtable sup_reducs = parent.getTicket().getSup_reduc();        if (sup_reducs != null) {            java.util.Iterator it = sup_reducs.values().iterator();            // check is these taxes already exist in hashtable            Sup_reduc_T tmp_sup = null;            int ac_key = 0;            while (it.hasNext()) {                 tmp_sup = (Sup_reduc_T) it.next();                 ac_key = tmp_sup.getAclibelle();                 switch (ac_key) {                     case 2 :                         is_locale = true;                         del_keys[0] = tmp_sup.getAt_cleunik();                         break;                     case 3 :                         is_destination = true;                        del_keys[1] = tmp_sup.getAt_cleunik();                         break;                     case 4 :                         is_compagnie = true;                         del_keys[2] = tmp_sup.getAt_cleunik();                         break;                     case 5 :                         is_fees = true;                         del_keys[3] = tmp_sup.getAt_cleunik();                         break;                 }            }        }        // change values if needed        if (locale > 0f && !is_locale) {            free_libele[0] = grp_Pan_SupReducPanelEdition.getLibele(2);            ac_libele[0] = 2;            changed[0] = 1;            prix[0]=locale;        }        else if (locale <= 0f && is_locale) {            delTaxe(del_keys[0]);            is_aChange = true;        }        if (destination > 0f && !is_destination) {            free_libele[1] = grp_Pan_SupReducPanelEdition.getLibele(3);            ac_libele[1] = 3;            changed[1] = 1;            prix[1]=destination;        }        else if (destination <= 0f && is_destination) {            delTaxe(del_keys[1]);            is_aChange = true;        }        if (compagnie > 0f && !is_compagnie) {            free_libele[2] = grp_Pan_SupReducPanelEdition.getLibele(4);            ac_libele[2] = 4;            changed[2] = 1;            prix[2]=compagnie;        }        else if (compagnie <= 0f && is_compagnie) {            delTaxe(del_keys[2]);            is_aChange = true;        }        if (fees > 0f && !is_fees) {            free_libele[3] = grp_Pan_SupReducPanelEdition.getLibele(5);            ac_libele[3] = 5;            changed[3] = 1;            prix[3]=fees;        }        else if (fees <= 0f && is_fees) {            delTaxe(del_keys[3]);            is_aChange = true;        }                        // create new supReduc if needed        Sup_reduc_T supReduc = null;                for (int i=0; i < changed.length; i++) {            if (changed[i] == 1) {                supReduc = new Sup_reduc_T();                supReduc.setSup_reduc_cleunik(parent.getSupReducCompteur());                parent.decrementSupReducCompteur();                supReduc.setParent(parent.getTicket());                supReduc.setSup(1);                supReduc.setSoumis_tva(1);                supReduc.setAclibelle(ac_libele[i]);                supReduc.setFreeLibelle(free_libele[i].toUpperCase());                supReduc.setPrix(prix[i]);                supReduc.setNewreccord(true);                supReduc.setValeur_tot(prix[i]);                supReduc.calculMontantTotal();                parent.getTicket().addSup_Reduc(supReduc);                is_aChange = true;            }        }        // apply refresh if value is changed        if (is_aChange) {            grp_Pan_SupReducPanel.reloadInfo();            parent.calculTotalUnProduit(parent.getTicket());        }                         }*/    public void doPrint() {    }    public void doSwitch() {    }    public int[] getDefaultActionToolBarMask() {        return null;    }    public void setThisAsToolBarComponent() {    }    /**     * Permet au parent de lancer le chargement des donnes au     * <p/>     * <p/>     * sein de liste (Ici : ListSelector)     */    public void chargeData() {        System.out.println("\n\n\n******************ISNERECORD?:" + parent.getTicket().isIsnewreccord());        System.out.println("\n\n\n******************ISATTACHED?:" + parent.getTicket().isIsattached());        grp_Label_Fournisseur_recap.setText(parent.getTicket().getFrnom());        grp_Label_Groupe_produit_recap.setText(parent.getTicket().getGroupe_produit_nom());        grp_TField_PNR.setText("" + parent.getTicket().getAt_pnr());        grp_ACB_typeDeBillet.setSelectedCleUnik(parent.getTicket().getAt_type_billet());        grp_TField_NumeroBillet.setText("" + parent.getTicket().getAt_num_billet());        grp_ADate_DateEmission.setDate(parent.getTicket().getAt_date_emission());        grp_ADate_DateDepart.setDate(parent.getTicket().getAt_date_depart());        grp_ADate_DateAnnulation.setDate(parent.getTicket().getAt_annul_date());        grp_TField_TotalAnnulation.setText("" + parent.getTicket().getAt_annul_tot());        grp_TField_NumeroRefund.setText("" + parent.getTicket().getAt_numrefund());        grp_ADate_DateCloture.setDate(parent.getTicket().getAt_cloture_date());        grp_ACB_ModeDePaiement.setSelectedCleUnik(parent.getTicket().getAt_mode_paiement());        System.out.println("num ccf" + parent.getTicket().getAt_num_cccf());        grp_TField_NumeroCCCF.setText("" + parent.getTicket().getAt_num_cccf());        grp_TField_ValeurFaciale.setText("" + parent.getTicket().getAt_val_facial());        grp_TField_ValeurNette.setText("" + parent.getTicket().getAt_val_nette());        grp_TField_ValeurDeVente.setText("" + parent.getTicket().getAt_val_vente());        grp_TField_ValeurCommission.setText("" + parent.getTicket().getAt_val_com());        srcastra.astra.gui.components.combobox.liste.ManageFreeListe.setValue(0, "" + parent.getTicket().getAt_fees(), grp_Liste_fees);        //grp_TField_Fees.setText(""+parent.getTicket().getAt_fees());        grp_TArea_Memo.setText(parent.getTicket().getAt_memo());        grp_liste_passager.setCleUnik(parent.getTicket().getPassager());        //   grp_TField_TaxeSurCompagnie.setText(""+parent.getTicket().getAt_tax_compagnie());        //   grp_TField_TaxeLocale.setText(""+parent.getTicket().getAt_tax_locale());        //  grp_TField_TaxeDestination.setText(""+parent.getTicket().getAt_tax_destination());        grp_TField_FullFare.setText("" + parent.getTicket().getAt_fullfare());        grp_TArea_Memo.setText(parent.getTicket().getAt_memo());        grp_LSelect_Compagnie.setCleUnik(parent.getTicket().getCoe_cleunik());        //  grp_TField_ValeurCommission.setText(""+parent.getTicket().getAt_val_com());        //   grp_TField_ValeurRemise.setText(""+parent.getTicket().getAt_val_remise());        fillTaxe();        grp_ACB_Status.setSelectedIndex(parent.getTicket().getStatut());    }    /**     * Demande d'une suppression ou d'une annulation physique au serveur     */    public void dbDelete() {    }    /** Demande d'une insertion au serveur  */    /**     * Demande de slection au serveur     */    public void dbSelect() {    }    /**     * Demande de slection en vue d'une modification au serveur     */    public void dbSelectForUpdate() {    }    /**     * Demande d'une modification au serveur     */    public void dbUpdate() {        if (!m_parent.m_config.test) {            chargeAvionClassUpdate();            parent.getTicket().setLocalyModify(true);            parent.calculTotalUnProduit(parent.getTicket());        }        displayReadMode();    }    /**     * Affichage en Mode disable     */    public void displayDisableMode() {    }    /**     * Affichage en mode Insertion     */    public void displayInsertMode() {        // tb_interaction.enableValidateActionListener(true);        openFields(ActionToolBar.ACT_INSERT);        setDefaultDecimalValue();    }    /**     * Affichage en mode Lecture     */    public void displayReadMode() {        // tb_interaction.enableValidateActionListener(false);        for (int i = 0; i < composantToVerif.length; i++) {            composantToVerif[i].setEnabled(false);            composantToVerif[i].setLastFocusedComponent(false);        }        /*parent.setCurrentActionEnabled(new int[] { ActionToolBar.DO_MODIFY,       ActionToolBar.DO_CANCEL,       ActionToolBar.DO_PREVIOUS,       ActionToolBar.DO_SWITCH });*/        grp_TArea_Memo.setEnabled(false);        action = ActionToolBar.ACT_READ;        if (!m_parent.m_config.test)            chargeData();        if (grp_TField_PNR.getText().equals("NULL"))            grp_TField_PNR.setText("");        if (grp_TField_NumeroBillet.getText().equals("NULL"))            grp_TField_NumeroBillet.setText("");        if (grp_TField_NumeroCCCF.getText().equals("NULL"))            grp_TField_NumeroCCCF.setText("");    }    /**     * Affichage en mode Modification     */    public void displayUpdateMode() {    }    /**     * Permet  la classe qui implmente cette mthode de se     * <p/>     * <p/>     * rfrencer auprs d' ActionToolBar     *     * @return le n de l'action     */    public int getAction() {        return 0;    }    /**     * Sert  recevoir le titre de son parent     * <p/>     * <p/>     * pour un cadre ventuel     *     * @return le titre du panneau     */    public String getTitle() {        return "Aviation";    }    /**     * Permet de prciser le type d'action qu'on est occup de faire :     * <p/>     * <p/>     * 0 pour lecture     * <p/>     * <p/>     * 1 pour cration     * <p/>     * <p/>     * 2 pour modification     *     * @param action type d'action     */    public void setAction(int action) {    }    /**     * Permet de recevoir la cl unique d'un objet relatif     * <p/>     * <p/>     * au modules : cration par partie ou modification     *     * @param frCleUnik la cl unique     */    public void setFrCleunik(int frCleUnik) {    }    /**     * Mthode pour l'update de tous les champs     */    public void updateAllFields() {    }    public void updateAllFields(Object donnee) {    }    public void goUp() {    }    public java.awt.Component m_getGeneriqueTable() {        return null;    }    public int doAccept(boolean sw) {        return 1;    }    public int doCancel(boolean sw) {        displayReadMode();        return 1;    }    public int doCreate(boolean sw) {        setDefaultDecimalValue();        openFields(ActionToolBar.ACT_INSERT);        action = ActionToolBar.ACT_INSERT;        return 1;    }    public int doDelete(boolean sw) {        return 1;    }    public int doModify(boolean sw) {        openFields(ActionToolBar.ACT_MODIFY);        action = ActionToolBar.ACT_MODIFY;        return 1;    }    public Object getSupReduc2(int i) {        return null;    }    public java.awt.Component getTable() {        return null;    }    public void moveInTable(int direction) {    }    public void reloadTableModel() {    }    public void setSup_reduc(Object sup_reduc) {    }    /**     * Getter for property tb_interaction.     *     * @return Value of property tb_interaction.     */    public srcastra.astra.gui.components.actions.ToolBarInteraction getTb_interaction() {        return tb_interaction;    }    /**     * Setter for property tb_interaction.     *     * @param tb_interaction New value of property tb_interaction.     */    public void setTb_interaction(srcastra.astra.gui.components.actions.ToolBarInteraction tb_interaction) {        this.tb_interaction = tb_interaction;    }    public void doF10() {    }    public void addKeystroque() {    }    public void doF7() {    }    private DossierMainScreenModule parent;    private AvionGui2 m_parent;    private AstraComponent[] composantToVerif;    private int action;    private Avion_ticket_T ticket;    private ToolBarInteraction tb_interaction;    // Variables declaration - do not modify//GEN-BEGIN:variables    private srcastra.astra.gui.components.combobox.aCombo.ACombo grp_ACB_ModeDePaiement;    private srcastra.astra.gui.components.combobox.aCombo.ACombo grp_ACB_Status;    private srcastra.astra.gui.components.combobox.aCombo.ACombo grp_ACB_typeDeBillet;    private srcastra.astra.gui.components.date.thedate.ADate grp_ADate_DateAnnulation;    private srcastra.astra.gui.components.date.thedate.ADate grp_ADate_DateCloture;    private srcastra.astra.gui.components.date.thedate.ADate grp_ADate_DateDepart;    private srcastra.astra.gui.components.date.thedate.ADate grp_ADate_DateEmission;    private srcastra.astra.gui.components.combobox.liste.Liste grp_LSelect_Compagnie;    private javax.swing.JLabel grp_Label_Annulation;    private javax.swing.JLabel grp_Label_Fournisseur_recap;    private javax.swing.JLabel grp_Label_Groupe_produit_recap;    private srcastra.astra.gui.components.combobox.liste.Liste grp_Liste_fees;    private javax.swing.JTextArea grp_TArea_Memo;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_FullFare;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_NumeroBillet;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_NumeroCCCF;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_NumeroRefund;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_PNR;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_TaxeDestination;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_TaxeLocale;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_TaxeSurCompagnie;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_TotalAnnulation;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_ValeurCommission;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_ValeurDeVente;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_ValeurFaciale;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_ValeurNette;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_ValeurRemise;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_passager;    private javax.swing.JLabel jLabel1;    private javax.swing.JLabel jLabel10;    private javax.swing.JLabel jLabel11;    private javax.swing.JLabel jLabel12;    private javax.swing.JLabel jLabel13;    private javax.swing.JLabel jLabel14;    private javax.swing.JLabel jLabel15;    private javax.swing.JLabel jLabel16;    private javax.swing.JLabel jLabel17;    private javax.swing.JLabel jLabel18;    private javax.swing.JLabel jLabel19;    private javax.swing.JLabel jLabel2;    private javax.swing.JLabel jLabel20;    private javax.swing.JLabel jLabel21;    private javax.swing.JLabel jLabel22;    private javax.swing.JLabel jLabel23;    private javax.swing.JLabel jLabel24;    private javax.swing.JLabel jLabel25;    private javax.swing.JLabel jLabel26;    private javax.swing.JLabel jLabel27;    private javax.swing.JLabel jLabel28;    private javax.swing.JLabel jLabel3;    private javax.swing.JLabel jLabel4;    private javax.swing.JLabel jLabel5;    private javax.swing.JLabel jLabel6;    private javax.swing.JLabel jLabel7;    private javax.swing.JLabel jLabel8;    private javax.swing.JLabel jLabel9;    private javax.swing.JPanel jPanel1;    private javax.swing.JPanel jPanel2;    private javax.swing.JPanel jPanel3;    private javax.swing.JPanel jPanel4;    private javax.swing.JPanel jPanel5;    private javax.swing.JPanel jPanel6;    private javax.swing.JPanel jPanel7;    private javax.swing.JPanel jPanel8;    private javax.swing.JPanel jPanel9;    private javax.swing.JScrollPane jScrollPane1;    // End of variables declaration//GEN-END:variables}