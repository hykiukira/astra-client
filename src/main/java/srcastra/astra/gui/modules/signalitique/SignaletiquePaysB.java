/* * FournisseurContactPane.java * * Created on 27 mars 2002, 12:34 */package srcastra.astra.gui.modules.signalitique;import srcastra.astra.gui.modules.InternScreenModule;import srcastra.astra.gui.modules.MainScreenModule;import srcastra.astra.gui.sys.ErreurScreenLibrary;import srcastra.astra.gui.components.actions.actionToolBar.*;import srcastra.astra.gui.components.AstraComponent;import srcastra.astra.sys.classetransfert.signaletique.*;import javax.swing.JOptionPane;import java.util.ArrayList;import srcastra.astra.gui.sys.formVerification.*;import srcastra.astra.gui.components.actions.ToolBarInteraction;import srcastra.astra.sys.rmi.Exception.*;import srcastra.astra.gui.event.ValidateField;import java.awt.event.ActionListener;import java.awt.event.ActionEvent;import srcastra.astra.sys.rmi.astrainterface;/** * * @author  Sébastien */public class SignaletiquePaysB extends javax.swing.JPanel implements InternScreenModule, ToolBarComposer, java.awt.event.ComponentListener, Signaletique, java.awt.event.FocusListener {//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// // CONSTRUCTOR////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////             /** Creates new form FournisseurContactPane */    public SignaletiquePaysB(srcastra.astra.sys.rmi.astrainterface serveur, srcastra.astra.sys.classetransfert.Loginusers_T currentUser, ActionToolBar actionToolBar, MainScreenModule parent) {        // initialisation des champs        this.serveur = serveur;        this.currentUser = currentUser;        this.parent = parent;        this.actionToolBar = actionToolBar;        this.frCleUnik = frCleUnik;        this.addComponentListener(this);      // init();        parent.setCurrentPanel(this);        displayReadMode();   }         /** Creates new form FournisseurContactPane */    public SignaletiquePaysB(srcastra.astra.sys.rmi.astrainterface serveur, srcastra.astra.sys.classetransfert.Loginusers_T currentUser, ActionToolBar actionToolBar, MainScreenModule parent, SignaletiqueOtherLanguage otherLanguageObject) {       // initialisation des champs        this.serveur = serveur;        this.currentUser = currentUser;        this.parent = parent;        this.actionToolBar = actionToolBar;        this.frCleUnik = frCleUnik;        this.otherLanguage = otherLanguageObject;        this.addComponentListener(this);       // init();        setLastModify(-1);        grp_Combo_insertCombo = new srcastra.astra.gui.components.InsertCombo.InsertCombo(new String[]{"","",""},0, currentUser);        parent.setCurrentPanel(this);        interfacesign=this;        langueCleUnik=this.otherLanguage.getLmcleunik();        displayReadMode();    }    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// // INITIALISATION////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////          /** Initialise les champs graphiques ainsi qu'un tableau pour permettre d'interargir     * sur tous les éléments à partir d'une boucle.     * Les éléments graphiques et le tableau ne sera initialisé qu' 1 fois  */    private void init() {       if (!initOnce) {            // chargement des composants et de leurs propriétes            initComponents();            init2();            setDocumentMask();            // chargement d'un tableau reprenant tous les éléments pour une correction            this.composantToVerif = new AstraComponent[] {                grp_TField_Abrev, grp_TField_Pays};                            this.tb_interaction = new ToolBarInteraction(parent, this, composantToVerif);            this.tb_interaction.setValidateActionEnvironnement(ToolBarInteraction.ACT_ENV_STANDART);                        //-> Régistration des listeners pour la validité des composants            for (int i=0; i < composantToVerif.length; i++) {                composantToVerif[i].addActionListener(tb_interaction.getValidateActionListener());            }            grp_Combo_insertCombo.addInsertComboListener(tb_interaction.getChangeInsertComboDataActionListener());            //-------------------fin de la régistration des listeners dans les beans --------------------------------                          // les éléments ne sont intialisé qu'1 seule fois                initOnce = true;           grp_TField_Pays.addActionListener(validateAndDoPrevious);        }    }        private void setDocumentMask() {        grp_TField_Abrev.setDocument(new DefaultMask(1, 3, currentUser.getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));        grp_TField_Pays.setDocument(new DefaultMask(1, 50, currentUser.getLangage(), DefaultMask.ALL_LETTRE_IN_UPPERCASE));    }        /** This method is called from within the constructor to     * initialize the form.     * WARNING: Do NOT modify this code. The content of this method is     * always regenerated by the Form Editor.     */    private void initComponents() {//GEN-BEGIN:initComponents        java.awt.GridBagConstraints gridBagConstraints;        buttonGroup1 = new javax.swing.ButtonGroup();        grp_Pan_Center = new javax.swing.JPanel();        grp_Pan_AfficheInsertCombo = new javax.swing.JPanel();        jPanel8 = new javax.swing.JPanel();        jPanel5 = new javax.swing.JPanel();        jPanel6 = new javax.swing.JPanel();        grp_Label_PaysAbrev = new javax.swing.JLabel();        grp_Label_Pays = new javax.swing.JLabel();        grp_TField_Abrev = new srcastra.astra.gui.components.textFields.ATextField();        grp_TField_Pays = new srcastra.astra.gui.components.textFields.ATextField();        jPanel9 = new javax.swing.JPanel();        setLayout(new java.awt.BorderLayout());        setBorder(new javax.swing.border.TitledBorder(null, java.util.ResourceBundle.getBundle("srcastra/astra/locale/Signalitique", currentUser.getLangage()).getString("Pys_titrePane"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 11)));        setEnabled(false);        grp_Pan_Center.setLayout(new java.awt.BorderLayout());        grp_Pan_AfficheInsertCombo.setLayout(new java.awt.BorderLayout());        grp_Pan_AfficheInsertCombo.setEnabled(false);        grp_Pan_AfficheInsertCombo.add(jPanel8, java.awt.BorderLayout.NORTH);        grp_Pan_Center.add(grp_Pan_AfficheInsertCombo, java.awt.BorderLayout.EAST);        jPanel5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 20));        jPanel5.setBorder(new javax.swing.border.EtchedBorder());        jPanel5.setEnabled(false);        jPanel5.addMouseListener(new java.awt.event.MouseAdapter() {            public void mouseClicked(java.awt.event.MouseEvent evt) {                jPanel5MouseClicked(evt);            }        });        jPanel6.setLayout(new java.awt.GridBagLayout());        jPanel6.setEnabled(false);        jPanel6.addMouseListener(new java.awt.event.MouseAdapter() {            public void mouseClicked(java.awt.event.MouseEvent evt) {                jPanel6MouseClicked(evt);            }        });        grp_Label_PaysAbrev.setFont(new java.awt.Font("Tahoma", 0, 10));        grp_Label_PaysAbrev.setForeground(java.awt.Color.black);        grp_Label_PaysAbrev.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/Signalitique", currentUser.getLangage()).getString("Pys_abrev"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 3, 100);        jPanel6.add(grp_Label_PaysAbrev, gridBagConstraints);        grp_Label_Pays.setFont(new java.awt.Font("Tahoma", 0, 10));        grp_Label_Pays.setForeground(java.awt.Color.black);        grp_Label_Pays.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/Signalitique", currentUser.getLangage()).getString("Pys_Pays"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 3, 100);        jPanel6.add(grp_Label_Pays, gridBagConstraints);        grp_TField_Abrev.setEnabled(false);        grp_TField_Abrev.setGrp_Comp_nextComponent(grp_TField_Pays);        grp_TField_Abrev.setPreferredSize(new java.awt.Dimension(75, 18));        grp_TField_Abrev.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_Abrev.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 3, 0);        jPanel6.add(grp_TField_Abrev, gridBagConstraints);        grp_TField_Pays.setEnabled(false);        grp_TField_Pays.setGrp_Comp_nextComponent(null);        grp_TField_Pays.setGrp_Comp_previousComponent(grp_TField_Abrev);        grp_TField_Pays.setLastFocusedComponent(true);        grp_TField_Pays.setPreferredSize(new java.awt.Dimension(160, 18));        grp_TField_Pays.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_TField_Pays.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 3, 0);        jPanel6.add(grp_TField_Pays, gridBagConstraints);        jPanel5.add(jPanel6);        jPanel9.setLayout(new java.awt.GridBagLayout());        jPanel5.add(jPanel9);        grp_Pan_Center.add(jPanel5, java.awt.BorderLayout.SOUTH);        add(grp_Pan_Center, java.awt.BorderLayout.CENTER);    }//GEN-END:initComponents    private void jPanel5MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jPanel5MouseClicked        grp_Combo_insertCombo.setFocusRecherche();   // Add your handling code here:    }//GEN-LAST:event_jPanel5MouseClicked    private void jPanel6MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jPanel6MouseClicked       grp_Combo_insertCombo.setFocusRecherche();        // Add your handling code here:    }//GEN-LAST:event_jPanel6MouseClicked private void init2() {     try {        String[] titre=new String[]{"id",                                    java.util.ResourceBundle.getBundle("srcastra/astra/locale/Signalitique", currentUser.getLangage()).getString("Pys_Pays"),                                    java.util.ResourceBundle.getBundle("srcastra/astra/locale/Signalitique", currentUser.getLangage()).getString("Pys_abrev")};                                           // grp_Combo_insertCombo = new srcastra.astra.gui.components.InsertCombo.InsertCombo(titre,0, currentUser);        grp_Combo_insertCombo.setTitle(titre);        grp_Combo_insertCombo.setServeur(this.serveur);        grp_Combo_insertCombo.setTypeDeCombo(srcastra.astra.sys.rmi.astrainterface.COMBO_PAYS);        grp_Combo_insertCombo.setIParent(this);        grp_Combo_insertCombo.setEnvironnement(srcastra.astra.gui.components.InsertCombo.InsertCombo.ENVIRONNEMENT_PANEL_SIGNALETIQUE);        grp_Pan_AfficheInsertCombo.add(grp_Combo_insertCombo);            }     catch (java.util.MissingResourceException mre) {         ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.MISSING_RESSOURCE_EXCEPTION, srcastra.astra.Astra.DEBUG, mre);     }           }   ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => LISTENERS////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////       private void grp_But_dernierActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_dernierActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_But_dernierActionPerformed    private void grp_But_SuivantActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_SuivantActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_But_SuivantActionPerformed    private void grp_But_precedentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_precedentActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_But_precedentActionPerformed    private void grp_But_premierElementActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_premierElementActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_But_premierElementActionPerformed    private void grp_Cbox_FournisseurActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_Cbox_FournisseurActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_Cbox_FournisseurActionPerformed    private void grp_CBox_DepartementActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_CBox_DepartementActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_CBox_DepartementActionPerformed    private void grp_CBox_NomActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_CBox_NomActionPerformed        // Add your handling code here:    }//GEN-LAST:event_grp_CBox_NomActionPerformed    public void componentShown(java.awt.event.ComponentEvent componentEvent) {        actionToolBar.setTbComposer(this);        switch (action) {            case ActionToolBar.ACT_READ :               displayReadMode();                break;            case ActionToolBar.ACT_INSERT :                displayInsertMode();                break;        }    }        public void componentMoved(java.awt.event.ComponentEvent componentEvent) {    }        public void componentResized(java.awt.event.ComponentEvent componentEvent) {    }        public void componentHidden(java.awt.event.ComponentEvent componentEvent) {    }        public void focusLost(java.awt.event.FocusEvent focusEvent) {    }       public void focusGained(java.awt.event.FocusEvent focusEvent) {    }      private ValidateField validateAndDoPrevious = new ValidateField() {          public void actionPerformed(ActionEvent evt) {              srcastra.astra.gui.components.textFields.ATextField field = (srcastra.astra.gui.components.textFields.ATextField)evt.getSource();               if ((action == ActionToolBar.ACT_INSERT || action == ActionToolBar.ACT_MODIFY) && !field.getText().equals("")) {                   requestFocus();                   doPrevious();               }           }       };////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => METHODE APPARENTE AU BEANS////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////         public void setFocusToCombo(boolean x)   {        grp_Combo_insertCombo.changeSelectionColor(x);   }    private String renvTraduction(ArrayList tmpList2)   {        ArrayList tmpList=tmpList2;        Object[] tmpObj=(Object[])tmpList.get(langueCleUnik-1);        return tmpObj[2].toString();           }////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => FONCTIONS APPARENTES AU TRANSFERT DE DONNEE////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////      public void chargeData() {    }             public void dbSelect() {        //grp_Combo_insertCombo.setExtCleUnik(this.fr);        /*grp_Combo_insertCombo.chargeData(1);         if(getLastModify()!=-1)        {           grp_Combo_insertCombo.setModifyItem(getLastModify());           grp_Combo_insertCombo.SelectionObj(1,serveur.COMBO_PAYS);           setLastModify(-1);        }*/           grp_Combo_insertCombo.setModifyItem(getLastModify());                      if (pays != null) setLastModify(pays.getPyscleunik());           else setLastModify(-1);                      grp_Combo_insertCombo.setValuefromParent(1,serveur.COMBO_PAYS);           grp_Combo_insertCombo.chargeData(1);                 // -> il faudrait charger la première ligne de la table dans les champs !!!    }        public void dbSelectForUpdate() {      try {            Object obj = serveur.ChargeObjectPopup(currentUser.getUrlmcleunik(), currentUser.getUrcleunik(),  PaysCleUnik, 2, serveur.COMBO_PAYS);            pays = (Pays_Tb) obj;            if(pays.getErreurcode()==1205)            {               JOptionPane.showMessageDialog(this,"Ce pays postal est déjà en cours de modification par un autre utilisateur");                checkValidity=false;            }            else            {                 PaysCleUnik = pays.getPyscleunik();                 String test=renvTraduction(pays.getdata());                 if(test.compareTo("none")==0)                    pays.setTmpString("none");                 else                      pays.setTmpString("ok");                 updateAllFields();                 checkValidity=true;                            }        }        catch (java.rmi.RemoteException re) {            System.out.println("Attention : " + this.getClass().getName() + " fct : prepareForInsertion !!!");            System.out.println(re);        }           }        public void dbInsert() {        srcastra.astra.sys.classetransfert.Gestionerreur_T erreur=new srcastra.astra.sys.classetransfert.Gestionerreur_T();        if(pays==null)            pays=new Pays_Tb();        pays.setPysabrev(grp_TField_Abrev.getText());        pays.setPystraduction(grp_TField_Pays.getText());         try {            erreur = serveur.insertObjectPopup(pays,currentUser.getUrcleunik(),serveur.COMBO_PAYS,1);            if (erreur.getErreurcode() == 1062) {                javax.swing.JOptionPane.showMessageDialog(this, "Le pays existe déjà");            }            else {                action = ActionToolBar.ACT_READ;                setLastModify(erreur.getTmpint());                displayReadMode();            }        }        catch (java.rmi.RemoteException re) {            ErreurScreenLibrary.displayErreur(this,  ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);                    }    }        public void dbDelete() {         try{            int rep=JOptionPane.showConfirmDialog(this,java.util.ResourceBundle.getBundle("srcastra/astra/locale/alertmessage",currentUser.getLangage()).getString("eff_sign")+pays.getPysabrev()+" - "+pays.getPystraduction());            if(rep==JOptionPane.YES_OPTION)            {                       serveur.deleteSignaletique(this.pays.TABLE_PAYS,this.pays.CLE_PAYS,currentUser.getUrcleunik(),pays.CHECK_FOR_FOURN_AND_CLIENT,this.pays.getPyscleunik(),astrainterface.COMBO_PAYS);                      setLastModify(-1);            displayReadMode();            }        }        catch(ServeurSqlFailure se){          ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.SERVEUR_SQL_FAILURE, srcastra.astra.Astra.DEBUG, se,this.currentUser);         }         catch (java.rmi.RemoteException re) {            ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);        }    }        public void dbUpdate() {        srcastra.astra.sys.classetransfert.Gestionerreur_T erreur;        pays.setPysabrev(grp_TField_Abrev.getText());        pays.setPystraduction(grp_TField_Pays.getText());        pays.setPysLangue(otherLanguage.getLmcleunik());         try {            erreur = serveur.modifyObjectPopup(pays,currentUser.getUrcleunik(),serveur.COMBO_PAYS,1);            pays.setTmpString("");            if (erreur.getErreurcode() == 1062) {                 javax.swing.JOptionPane.showMessageDialog(this, "Le Pays postal existe déjà");            }            else {               action = ActionToolBar.ACT_READ;                setLastModify(pays.getPyscleunik());               displayReadMode();            }        }        catch (java.rmi.RemoteException re) {            ErreurScreenLibrary.displayErreur(this,  ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);                   pays.setTmpString("");        }    }    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => METHODE APPARENTE A L' AFFICHAGE DES DONNEES////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////      public void displayReadMode() {        // toolbar        parent.setCurrentActionEnabled(new int[0]);        action = ActionToolBar.ACT_READ;        init();       /* chargement des données en lecture dans grp_Combo_inserCombo */        dbSelect();                for (int i=0; i < composantToVerif.length; i++) {            composantToVerif[i].setEnabled(false);            composantToVerif[i].setLastFocusedComponent(false);        }        grp_Combo_insertCombo.setEnabled(true);       grp_TField_Pays.setLastFocusedComponent(true);        this.requestFocus();        otherLanguage.setEnabled_grp_List_LanguageList(true);    }        public void displayInsertMode() {        // toolbar        parent.setCurrentActionEnabled(new int[] { ActionToolBar.DO_CANCEL } );        action = ActionToolBar.ACT_INSERT;        init();        for (int i=0; i < composantToVerif.length; i++) {            composantToVerif[i].setEnabled(false);            composantToVerif[i].setText("");        }        grp_Combo_insertCombo.setEnabled(false);        grp_TField_Pays.setLastFocusedComponent(true);        grp_TField_Abrev.setEnabled(true);        grp_TField_Abrev.requestFocus();        otherLanguage.setEnabled_grp_List_LanguageList(false);        grp_TField_Abrev.requestFocus();    }        public void displayUpdateMode() {        // effectuer un select for update dans insertCombo         dbSelectForUpdate();        if(!checkValidity)        {            displayReadMode();        }        else{            // afficher les données dans les champs d'insertCombo            parent.setCurrentActionEnabled(new int[] { ActionToolBar.DO_PREVIOUS,                                                       ActionToolBar.DO_CANCEL } );            action = ActionToolBar.ACT_MODIFY;            init();            for (int i=0; i < composantToVerif.length; i++) {                composantToVerif[i].setEnabled(true);                composantToVerif[i].setLastFocusedComponent(true);           }            grp_Combo_insertCombo.setEnabled(false);            grp_TField_Abrev.requestFocus();            otherLanguage.setEnabled_grp_List_LanguageList(false);            grp_TField_Abrev.requestFocus();        }    }        public void displayDisableMode() {         //     }         public void updateAllFields()    {       grp_TField_Abrev.setText("" + pays.getPysabrev());      grp_TField_Pays.setText(renvTraduction(pays.getdata()));           }   public void updateAllFields(Object donnee) {        pays=(Pays_Tb)donnee;        PaysCleUnik= pays.getPyscleunik();        //if (otherLanguage != null) {          //  otherLanguage.setAvaibleLanguage(codep.getdata(),currentUser.getUrlmcleunik());        //}       updateAllFields();    }        public void updateAllFields(int langueCleUnik) {        this.langueCleUnik = langueCleUnik;        if(pays!=null)        {      grp_TField_Pays.setText(renvTraduction(pays.getdata()));           }    }    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => METHODE APPARENTE AUX APPELS DE LA TOOLBAR////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////      public void doCancel() {       switch (action) {            case ActionToolBar.ACT_INSERT :                displayReadMode();                    break;            case ActionToolBar.ACT_MODIFY :                try{                serveur.remoterollback(currentUser.getUrcleunik());                }catch(java.rmi.RemoteException e){System.out.println("erreur dans le rollback dans signalitique des code postaux F8(cancel)"+e.getMessage());}                setLastModify(pays.getPyscleunik());                displayReadMode();                break;            case ActionToolBar.ACT_READ :                parent.cancelModule();        }                                            }        public void doNext() {    }       public void doPrevious() {       // actions        if (action == ActionToolBar.ACT_INSERT) {            dbInsert();       }        else if (action == ActionToolBar.ACT_MODIFY) {           dbUpdate();        }            }       public void doDelete() {       dbDelete();    }       public void doCreate() {        displayInsertMode();            }        public void doHelp() {    }       public void doClose() {        parent.closeModule();    }        public void doModify() {        displayUpdateMode();    }        public void doAccept() {            }        public void doPrint() {   }    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // => Champs de la classe////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////     private int langueCleUnik;    private srcastra.astra.sys.rmi.astrainterface serveur;        private srcastra.astra.sys.classetransfert.Loginusers_T currentUser;        private int frCleUnik;    private Pays_Tb pays;    private java.util.ArrayList data;    private MainScreenModule parent;    private SignaletiqueOtherLanguage otherLanguage;        private char premiereLettre = 1;        private boolean create = false;            public boolean modif = false;        private int action;        private ActionToolBar actionToolBar;        private AstraComponent[] composantToVerif;        /** pour 1 seul initiation du panneau     */    public boolean initOnce = false;        private srcastra.astra.gui.components.InsertCombo.InsertCombo grp_Combo_insertCombo;        private int PaysCleUnik;     private Signaletique interfacesign;    private boolean checkValidity=false;    private int lmcleunik;    private int lastModify;    private ToolBarInteraction tb_interaction;    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// // STATIC VARIABLES////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////      public static int PANE_NUMBER = 4;////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        // => Graphic Component////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////            // Variables declaration - do not modify//GEN-BEGIN:variables    private javax.swing.JPanel jPanel9;    private javax.swing.JPanel jPanel8;    private javax.swing.JPanel jPanel6;    private javax.swing.JPanel jPanel5;    private javax.swing.JPanel grp_Pan_AfficheInsertCombo;    private javax.swing.JLabel grp_Label_PaysAbrev;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_Pays;    private javax.swing.ButtonGroup buttonGroup1;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_Abrev;    private javax.swing.JPanel grp_Pan_Center;    private javax.swing.JLabel grp_Label_Pays;    // End of variables declaration//GEN-END:variables    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    // BEANS PROPERTIES GET/SET SUPPORT////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////     public String getTitle() {        return "Contact";    }        public void setFrCleunik(int frCleUnik) {        this.frCleUnik = frCleUnik;    }            /** Getter for property data.     * @return Value of property data.     */    public java.util.ArrayList getData() {        return data;    }        public int getAction() {        return this.action;    }        public void setAction(int action) {        this.action = action;    }        /** Spécifie le composant qui implémente cette fonction comme     * le composant qui pilote l'actionToolBar     */    public void setThisAsToolBarComponent() {        actionToolBar.setTbComposer(this);    }        public int[] getDefaultActionToolBarMask() {        return new int[] { actionToolBar.DO_CREATE,                            actionToolBar.DO_MODIFY,                           actionToolBar.DO_CLOSE };    }        /** Getter for property otherLanguage.     * @return Value of property otherLanguage.     */    public srcastra.astra.gui.modules.signalitique.SignaletiqueOtherLanguage getOtherLanguage() {    return otherLanguage;    }              /** Setter for property otherLanguage.     * @param otherLanguage New value of property otherLanguage.     */    public void setOtherLanguage(srcastra.astra.gui.modules.signalitique.SignaletiqueOtherLanguage otherLanguage) {        this.otherLanguage = otherLanguage;    }         public int setMode(int mode)    {       return 1;     }        /** Getter for property lmcleunik.     * @return Value of property lmcleunik.     */    public int getLmcleunik() {        return lmcleunik;    }        /** Setter for property lmcleunik.     * @param lmcleunik New value of property lmcleunik.    */    public void setLmcleunik(int lmcleunik) {        this.lmcleunik = lmcleunik;    }      /** Getter for property lastModify.     * @return Value of property lastModify.    */    public int getLastModify() {        return lastModify;   }        /** Setter for property lastModify.     * @param lastModify New value of property lastModify.     */    public void setLastModify(int lastModify) {        this.lastModify = lastModify;    }        public void doSwitch() {    }           public void goUp() {    }        public java.awt.Component m_getGeneriqueTable() {        return grp_Combo_insertCombo.getGrp_Table_Affiche();    }        public void doF10() {    }    public void addKeystroque() {    }        public void doF7() {    }        }