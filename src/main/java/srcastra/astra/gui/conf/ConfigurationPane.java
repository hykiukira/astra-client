/* * ConfigurationPane.java * * Created on 7 novembre 2002, 12:41 */package srcastra.astra.gui.conf;import srcastra.astra.gui.modules.printing.*;import srcastra.astra.sys.classetransfert.configuration.*;import srcastra.astra.gui.sys.ErreurScreenLibrary;import srcastra.astra.gui.modules.dossier.productSpecification.gestionnairepaneaux.substitutDossierModule;import srcastra.astra.sys.classetransfert.compta.*;import srcastra.astra.sys.*;import java.awt.event.*;import srcastra.astra.gui.components.tva.*;import srcastra.astra.gui.sys.*;import srcastra.astra.sys.classetransfert.*;/** * @author Sébastien */public class ConfigurationPane extends javax.swing.JPanel implements ConfigurationOptions {    /**     * Creates new form ConfigurationPane     */    PrintingConfig panelConfig;    srcastra.astra.gui.modules.config.ConfigMediator m_mediator;    srcastra.astra.gui.MainFrame m_parent;    srcastra.astra.gui.modules.compta.ExerciceCompt compta;    srcastra.astra.gui.modules.compta.JournauxCompta journaux;    substitutDossierModule parent;    javax.swing.JPanel panel6;    TvaMediator tvamediatorachat;    TvaFrame achat;    Loginusers_T currentUser;    public ConfigurationPane(srcastra.astra.gui.modules.config.ConfigMediator mediator, srcastra.astra.gui.MainFrame parentf) {        m_parent = parentf;        m_mediator = mediator;        currentUser = m_parent.getCurrentUser();        parent = new substitutDossierModule(m_parent.getServeur(), parentf.getCurrentUser());        initComponents();        grp_But_Accept.setVisible(true);        grp_But_Annuler.setVisible(true);        grp_But_Ajouter.setVisible(false);        grp_But_modifier.setVisible(false);        grp_But_nouv.setVisible(false);        initListe();        panelConfig = new PrintingConfig(m_parent);        panelConfig.setMediator(mediator);        javax.swing.JPanel panel4 = new javax.swing.JPanel();        panel4.setLayout(new java.awt.BorderLayout());        panel4.add(panelConfig);        jTabbedPane1.addTab("Impression", panel4);        javax.swing.JPanel panel5 = new javax.swing.JPanel();        panel5.setLayout(new java.awt.BorderLayout());        compta = new srcastra.astra.gui.modules.compta.ExerciceCompt(parent);        compta.loadFields(parentf.getExercice());        panel5.add(compta);        jTabbedPane1.addTab("Exercice comptable", panel5);        panel6 = new javax.swing.JPanel();        panel6.addMouseListener(this.my_mouse);        panel6.setLayout(new java.awt.BorderLayout());        // tmp=new substitutDossierModule(null,parent.getCurrentUser());        journaux = new srcastra.astra.gui.modules.compta.JournauxCompta(parent);        panel6.add(journaux);        jTabbedPane1.addTab("Journaux Comptable", panel6);        jTabbedPane1.addMouseListener(this.my_mouse);        updateFields();        jPanel8.setName("");    }    public void initListe() {        tvamediatorachat = new TvaMediator();        achat = new TvaFrame(parent.getSuperOwner(), false, parent.getServeur(), parent.getCurrentUser(), 2, parent);        achat.setTvamediator(tvamediatorachat);        grp_Liste_fraistva.setWorkingIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/working.gif")));        grp_Liste_fraistva.setWarningIcon(new javax.swing.ImageIcon(getClass().getResource("/srcastra/astra/gui/img/aTextfield/warning.gif")));        grp_Liste_fraistva.setMaximumSize(new java.awt.Dimension(70, 18));        grp_Liste_fraistva.setMinimumSize(new java.awt.Dimension(70, 18));        grp_Liste_fraistva.setPreferredSize(new java.awt.Dimension(70, 18));        grp_Liste_fraistva.setGrp_Comp_nextComponent(grp_TField_frais);        grp_Liste_fraistva.setServeur(parent.getServeur());        grp_Liste_fraistva.setLogin(parent.getCurrentUser());        //this.typeProdmodel=new srcastra.astra.gui.components.combobox.liste.TypeProduitListeTableModel(parent.getServeur(),parent.getCurrentUser());        grp_Liste_fraistva.setModel(tvamediatorachat.getModel());//new srcastra.astra.gui.components.combobox.liste.TypeTvaListeTableModel(parent.getServeur(),parent.getCurrentUser()));        grp_Liste_fraistva.setTvamediator(tvamediatorachat);        grp_Liste_fraistva.init2();        grp_liste_comptefrais.setServeur(m_parent.getServeur());        grp_liste_comptefrais.setLogin(currentUser);        grp_liste_comptefrais.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_comptefrais.init2();        grp_liste_comptefrais.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteFrais());        grp_liste_fees.setServeur(m_parent.getServeur());        grp_liste_fees.setLogin(currentUser);        grp_liste_fees.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_fees.init2();        grp_liste_fees.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxFees());        grp_liste_remise.setServeur(m_parent.getServeur());        grp_liste_remise.setLogin(currentUser);        grp_liste_remise.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_remise.init2();        grp_liste_remise.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxRemise());        grp_liste_taxcomp.setServeur(m_parent.getServeur());        grp_liste_taxcomp.setLogin(currentUser);        grp_liste_taxcomp.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_taxcomp.init2();        grp_liste_taxcomp.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxcomp());        grp_liste_taxdest.setServeur(m_parent.getServeur());        grp_liste_taxdest.setLogin(currentUser);        grp_liste_taxdest.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_taxdest.init2();        grp_liste_taxdest.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxDest());        grp_liste_taxloc.setServeur(m_parent.getServeur());        grp_liste_taxloc.setLogin(currentUser);        grp_liste_taxloc.setModel(new srcastra.astra.gui.components.combobox.liste.NCompteListeTableModel(m_parent.getServeur(), currentUser));        grp_liste_taxloc.init2();        grp_liste_taxloc.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxLoc());    }    public void resetMediator() {        panelConfig.setMediator(m_mediator);    }    public void chargeData() {        // AbstractConfig_T config=m_parent.mainconfig.getConfig();        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bdc_cli_x(Double.parseDouble(panelConfig.getGrp_Label_xCLI().getText()));        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bdc_cli_y(Double.parseDouble(panelConfig.getGrp_Label_yCLI().getText()));        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bdc_x(Double.parseDouble(panelConfig.getGrp_Label_xBDC().getText()));        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bdc_y(Double.parseDouble(panelConfig.getGrp_Label_yBDC().getText()));        if (panelConfig.getGrp_CheckBox_enteteg().isSelected())            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bloc_g(1);        else srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bloc_g(0);        if (panelConfig.getGrp_CheckBox_enteted().isSelected())            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bloc_d(1);        else srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setBdc_bloc_d(0);        /*try{           config.setFraisDossierTva(Float.parseFloat(grp_Liste_fraistva.getText()));        }catch(NumberFormatException nn){           config.setFraisDossierTva(0f);        }*/        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setFraisdossiertvacle(grp_Liste_fraistva.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setFraistvainclus(grp_Check_fraistvainclus.isSelected() ? 1 : 0);        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteTaxDest(grp_liste_taxdest.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteTaxcomp(grp_liste_taxcomp.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteTaxRemise(grp_liste_remise.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteTaxFees(grp_liste_fees.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteFrais(grp_liste_comptefrais.getCleUnik());        srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCompteTaxLoc(grp_liste_taxloc.getCleUnik());        try {            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setNbr_lettre_liste(Integer.parseInt(grp_TField_nbrlettre.getText()));            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setAnnullfees(grp_ACombo_annulfees.isSelected() ? 1 : 0);            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setCaisseparutilisateur(grp_Check_user.isSelected() ? 1 : 0);            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setMultibureaux(grp_Check_multibureaux.isSelected() ? 1 : 0);        } catch (NumberFormatException nn) {            nn.printStackTrace();        }        try {            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setFraisDossier(Double.parseDouble(grp_TField_frais.getText()));        } catch (NumberFormatException nn) {            srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().setFraisDossier(0d);        }    }    public void updateFields() {        grp_TField_frais.setText("" + srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getFraisDossier());        grp_Liste_fraistva.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getFraisdossiertvacle());        grp_TField_nbrlettre.setText("" + srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getNbr_lettre_liste());        grp_Check_multibureaux.setSelected(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getMultibureaux() == 1 ? true : false);        grp_Check_user.setSelected(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCaisseparutilisateur() == 1 ? true : false);        grp_Check_fraistvainclus.setSelected(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getFraistvainclus() == 1 ? true : false);        grp_liste_taxloc.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxLoc());        grp_liste_taxdest.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxDest());        grp_liste_taxcomp.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxcomp());        grp_liste_remise.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxRemise());        grp_liste_fees.setCleUnik(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig().getCompteTaxFees());        if (m_parent.getExercice() == null)            enableExCompta(true);        else            enableExCompta(false);    }    /**     * This method is called from within the constructor to     * <p/>     * <p/>     * initialize the form.     * <p/>     * <p/>     * WARNING: Do NOT modify this code. The content of this method is     * <p/>     * <p/>     * always regenerated by the Form Editor.     */    private void initComponents() {//GEN-BEGIN:initComponents        java.awt.GridBagConstraints gridBagConstraints;        jTabbedPane1 = new javax.swing.JTabbedPane();        jPanel1 = new javax.swing.JPanel();        jPanel9 = new javax.swing.JPanel();        jPanel10 = new javax.swing.JPanel();        jPanel11 = new javax.swing.JPanel();        jLabel3 = new javax.swing.JLabel();        grp_TField_nbrlettre = new srcastra.astra.gui.components.textFields.ATextField();        jLabel5 = new javax.swing.JLabel();        grp_ACombo_annulfees = new srcastra.astra.gui.components.checkbox.ACheckBox();        jLabel6 = new javax.swing.JLabel();        grp_Check_user = new javax.swing.JCheckBox();        jLabel7 = new javax.swing.JLabel();        grp_Check_multibureaux = new javax.swing.JCheckBox();        jPanel3 = new javax.swing.JPanel();        jPanel5 = new javax.swing.JPanel();        jPanel6 = new javax.swing.JPanel();        jLabel1 = new javax.swing.JLabel();        jLabel2 = new javax.swing.JLabel();        grp_TField_frais = new srcastra.astra.gui.components.textFields.ATextField();        jLabel4 = new javax.swing.JLabel();        grp_Liste_fraistva = new srcastra.astra.gui.components.combobox.liste.Liste();        grp_liste_comptefrais = new srcastra.astra.gui.components.combobox.liste.Liste();        jLabel13 = new javax.swing.JLabel();        jLabel14 = new javax.swing.JLabel();        grp_Check_fraistvainclus = new srcastra.astra.gui.components.checkbox.ACheckBox();        jPanel7 = new javax.swing.JPanel();        jPanel4 = new javax.swing.JPanel();        jLabel8 = new javax.swing.JLabel();        jLabel9 = new javax.swing.JLabel();        jLabel11 = new javax.swing.JLabel();        jLabel12 = new javax.swing.JLabel();        grp_liste_taxloc = new srcastra.astra.gui.components.combobox.liste.Liste();        grp_liste_taxcomp = new srcastra.astra.gui.components.combobox.liste.Liste();        grp_liste_fees = new srcastra.astra.gui.components.combobox.liste.Liste();        grp_liste_remise = new srcastra.astra.gui.components.combobox.liste.Liste();        jPanel8 = new javax.swing.JPanel();        jLabel17 = new javax.swing.JLabel();        grp_liste_taxdest = new srcastra.astra.gui.components.combobox.liste.Liste();        jPanel2 = new javax.swing.JPanel();        grp_But_nouv = new javax.swing.JButton();        grp_But_modifier = new javax.swing.JButton();        grp_But_Ajouter = new javax.swing.JButton();        grp_But_Accept = new javax.swing.JButton();        grp_But_Annuler = new javax.swing.JButton();        setLayout(new java.awt.BorderLayout());        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 1, 10));        jTabbedPane1.addKeyListener(new java.awt.event.KeyAdapter() {            public void keyPressed(java.awt.event.KeyEvent evt) {                jTabbedPane1KeyPressed(evt);            }        });        jTabbedPane1.addMouseListener(new java.awt.event.MouseAdapter() {            public void mouseClicked(java.awt.event.MouseEvent evt) {                jTabbedPane1MouseClicked(evt);            }            public void mousePressed(java.awt.event.MouseEvent evt) {                jTabbedPane1MousePressed(evt);            }        });        jPanel1.setLayout(new java.awt.BorderLayout());        jPanel1.add(jPanel9, java.awt.BorderLayout.SOUTH);        jPanel10.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT));        jPanel10.setPreferredSize(new java.awt.Dimension(10, 100));        jPanel11.setLayout(new java.awt.GridBagLayout());        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel3.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("txt_lettre"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel11.add(jLabel3, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel11.add(grp_TField_nbrlettre, gridBagConstraints);        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel5.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", currentUser.getLangage()).getString("feesannull"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel11.add(jLabel5, gridBagConstraints);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel11.add(grp_ACombo_annulfees, gridBagConstraints);        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel6.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("caiU"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel11.add(jLabel6, gridBagConstraints);        grp_Check_user.setPreferredSize(new java.awt.Dimension(30, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel11.add(grp_Check_user, gridBagConstraints);        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel7.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("multibur"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel11.add(jLabel7, gridBagConstraints);        grp_Check_multibureaux.setPreferredSize(new java.awt.Dimension(30, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel11.add(grp_Check_multibureaux, gridBagConstraints);        jPanel10.add(jPanel11);        jPanel1.add(jPanel10, java.awt.BorderLayout.NORTH);        jTabbedPane1.addTab("G\u00e9n\u00e9rales", jPanel1);        jPanel3.setLayout(new java.awt.BorderLayout());        jPanel5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT));        jPanel5.setPreferredSize(new java.awt.Dimension(10, 300));        jPanel5.setRequestFocusEnabled(false);        jPanel6.setLayout(new java.awt.GridBagLayout());        jPanel6.setBorder(new javax.swing.border.TitledBorder(null, java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("txt_frDos"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10)));        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel1.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("txt_frDos_tva"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel1, gridBagConstraints);        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel2.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("txt_frDos_prix"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel2, gridBagConstraints);        grp_TField_frais.setGrp_Comp_nextComponent(grp_Check_fraistvainclus);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 0);        jPanel6.add(grp_TField_frais, gridBagConstraints);        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel4.setText("%");        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        jPanel6.add(jLabel4, gridBagConstraints);        grp_Liste_fraistva.setGrp_Comp_nextComponent(grp_TField_frais);        grp_Liste_fraistva.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        jPanel6.add(grp_Liste_fraistva, gridBagConstraints);        grp_liste_comptefrais.setGrp_Comp_nextComponent(grp_liste_taxloc);        grp_liste_comptefrais.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        jPanel6.add(grp_liste_comptefrais, gridBagConstraints);        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel13.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("compte"));        jLabel13.setPreferredSize(new java.awt.Dimension(100, 13));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel13, gridBagConstraints);        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel14.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("prixtva"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(0, 0, 2, 3);        jPanel6.add(jLabel14, gridBagConstraints);        grp_Check_fraistvainclus.setGrp_Comp_nextComponent(grp_liste_comptefrais);        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        jPanel6.add(grp_Check_fraistvainclus, gridBagConstraints);        jPanel5.add(jPanel6);        jPanel4.setLayout(new java.awt.GridBagLayout());        jPanel4.setBorder(new javax.swing.border.TitledBorder(null, java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale").getString("taxe_avion"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 10)));        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel8.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel").getString("grp_TField_TaxeLocale"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 3);        jPanel4.add(jLabel8, gridBagConstraints);        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel9.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel").getString("grp_TField_TaxeSurCompagnie"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 1;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 3);        jPanel4.add(jLabel9, gridBagConstraints);        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel11.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel").getString("grp_TField_Fees"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 3;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 3);        jPanel4.add(jLabel11, gridBagConstraints);        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel12.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel").getString("rem"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 4;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 3);        jPanel4.add(jLabel12, gridBagConstraints);        grp_liste_taxloc.setGrp_Comp_nextComponent(grp_liste_taxcomp);        grp_liste_taxloc.setPreferredSize(new java.awt.Dimension(100, 18));        jPanel4.add(grp_liste_taxloc, new java.awt.GridBagConstraints());        grp_liste_taxcomp.setGrp_Comp_nextComponent(grp_liste_taxdest);        grp_liste_taxcomp.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 1;        jPanel4.add(grp_liste_taxcomp, gridBagConstraints);        grp_liste_fees.setGrp_Comp_nextComponent(grp_liste_remise);        grp_liste_fees.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 3;        jPanel4.add(grp_liste_fees, gridBagConstraints);        grp_liste_remise.setIsLastComponent(true);        grp_liste_remise.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 4;        jPanel4.add(grp_liste_remise, gridBagConstraints);        jPanel7.add(jPanel4);        jPanel5.add(jPanel7);        jPanel8.setLayout(new java.awt.GridBagLayout());        jPanel8.setBorder(new javax.swing.border.EmptyBorder(new java.awt.Insets(1, 1, 1, 1)));        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 10));        jLabel17.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/ModuleDossier/productSpecification/AviationPanel").getString("commission"));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 0;        gridBagConstraints.gridy = 2;        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;        gridBagConstraints.insets = new java.awt.Insets(2, 0, 0, 3);        jPanel8.add(jLabel17, gridBagConstraints);        grp_liste_taxdest.setGrp_Comp_nextComponent(grp_liste_fees);        grp_liste_taxdest.setPreferredSize(new java.awt.Dimension(100, 18));        gridBagConstraints = new java.awt.GridBagConstraints();        gridBagConstraints.gridx = 1;        gridBagConstraints.gridy = 2;        jPanel8.add(grp_liste_taxdest, gridBagConstraints);        jPanel5.add(jPanel8);        jPanel8.getAccessibleContext().setAccessibleName("Commission");        jPanel3.add(jPanel5, java.awt.BorderLayout.NORTH);        jTabbedPane1.addTab("Dossier", jPanel3);        add(jTabbedPane1, java.awt.BorderLayout.CENTER);        jPanel2.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));        grp_But_nouv.setFont(new java.awt.Font("Tahoma", 1, 10));        grp_But_nouv.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_nouv"));        grp_But_nouv.setPreferredSize(new java.awt.Dimension(85, 23));        grp_But_nouv.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                grp_But_nouvActionPerformed(evt);            }        });        jPanel2.add(grp_But_nouv);        grp_But_modifier.setFont(new java.awt.Font("Tahoma", 1, 10));        grp_But_modifier.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_mode"));        grp_But_modifier.setPreferredSize(new java.awt.Dimension(85, 23));        jPanel2.add(grp_But_modifier);        grp_But_Ajouter.setFont(new java.awt.Font("Tahoma", 1, 10));        grp_But_Ajouter.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_del"));        grp_But_Ajouter.setPreferredSize(new java.awt.Dimension(85, 23));        grp_But_Ajouter.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                grp_But_AjouterActionPerformed(evt);            }        });        jPanel2.add(grp_But_Ajouter);        grp_But_Accept.setFont(new java.awt.Font("Tahoma", 1, 10));        grp_But_Accept.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_acc"));        grp_But_Accept.setPreferredSize(new java.awt.Dimension(85, 23));        grp_But_Accept.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                grp_But_AcceptActionPerformed(evt);            }        });        jPanel2.add(grp_But_Accept);        grp_But_Annuler.setFont(new java.awt.Font("Tahoma", 1, 10));        grp_But_Annuler.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_annul"));        grp_But_Annuler.setPreferredSize(new java.awt.Dimension(85, 23));        grp_But_Annuler.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                grp_But_AnnulerActionPerformed(evt);            }        });        jPanel2.add(grp_But_Annuler);        add(jPanel2, java.awt.BorderLayout.SOUTH);    }//GEN-END:initComponents    private void grp_But_AjouterActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_AjouterActionPerformed        if (jTabbedPane1.getSelectedComponent() == panel6) {            try {                Object[] tab = (Object[]) journaux.getModel().getObject(journaux.getGrp_Table_journaux().getSelectedRow());                int jota_cleunik = ((Integer) tab[0]).intValue();                int rep = parent.getServeur().renvParamCompta(parent.getCurrentUser().getUrcleunik()).deleteJournalCompta(jota_cleunik, parent.getCurrentUser().getUrcleunik());                if (rep == 0)                    new MessageManager().showMessageDialog(this, "journ_base", "journ_basetitle", parent.getCurrentUser());                else if (rep == 1)                    new MessageManager().showMessageDialog(this, "journ_compta", "journ_comptatitre", parent.getCurrentUser());                else                    journaux.reloadData();            } catch (srcastra.astra.sys.rmi.Exception.ServeurSqlFailure se) {                ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.SERVEUR_SQL_FAILURE, srcastra.astra.Astra.DEBUG, se);            }            catch (java.rmi.RemoteException re) {                ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);            }        }// Add your handling code here:    }//GEN-LAST:event_grp_But_AjouterActionPerformed    private void jTabbedPane1MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTabbedPane1MousePressed        if (jTabbedPane1.getSelectedComponent() == panel6) {            grp_But_Accept.setVisible(false);            grp_But_Annuler.setVisible(false);            grp_But_Ajouter.setVisible(true);            grp_But_modifier.setVisible(true);            grp_But_nouv.setVisible(true);        } else {            grp_But_Accept.setVisible(true);            grp_But_Annuler.setVisible(true);            grp_But_Ajouter.setVisible(false);            grp_But_modifier.setVisible(false);            grp_But_nouv.setVisible(false);        }    }//GEN-LAST:event_jTabbedPane1MousePressed    private void jTabbedPane1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTabbedPane1MouseClicked        /*    if(jTabbedPane1.getSelectedComponent()==panel6){                   grp_But_Accept.setVisible(false);                   grp_But_Annuler.setVisible(false);            }        else{                   grp_But_Accept.setVisible(true);                   grp_But_Annuler.setVisible(true);        }*/    }//GEN-LAST:event_jTabbedPane1MouseClicked    private void jTabbedPane1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTabbedPane1KeyPressed    }//GEN-LAST:event_jTabbedPane1KeyPressed    private void grp_But_nouvActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_nouvActionPerformed        if (jTabbedPane1.getSelectedComponent() == panel6) {            if (journaux.getInsertMode() == 0) {                journaux.getGrp_TField_abrev1().setEnabled(true);                journaux.getGrp_TField_abrev2().setEnabled(true);                journaux.getGrp_TField_intitule1().setEnabled(true);                journaux.getGrp_TField_intitule2().setEnabled(true);                journaux.getGrp_Liste_compte().setEnabled(true);                journaux.getGrp_TField_abrev1().requestFocus();                journaux.setInsertMode(1);                grp_But_nouv.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_acc"));            } else if (journaux.getInsertMode() == 1) {                journaux.getGrp_TField_abrev1().setEnabled(false);                journaux.getGrp_TField_abrev2().setEnabled(false);                journaux.getGrp_TField_intitule1().setEnabled(false);                journaux.getGrp_TField_intitule2().setEnabled(false);                journaux.getGrp_Liste_compte().setEnabled(false);                journaux.setInsertMode(0);                JournalCompta_T journal = new JournalCompta_T();                journal.setJota_abrev(journaux.getGrp_TField_abrev1().getText());                journal.setJota_abrev2(journaux.getGrp_TField_abrev2().getText());                journal.setJota_libelle(journaux.getGrp_TField_intitule1().getText());                journal.setJota_libelle2(journaux.getGrp_TField_intitule2().getText());                journal.setCour_cleunik(journaux.getGrp_Liste_compte().getCleUnik());                grp_But_nouv.setText(java.util.ResourceBundle.getBundle("srcastra/astra/locale/generale", parent.getCurrentUser().getLangage()).getString("config_bur_nouv"));                try {                    int id = m_parent.getServeur().renvParamCompta(m_parent.getCurrentUser().getUrcleunik()).isertJournalComptable(journal, m_parent.getCurrentUser().getUrcleunik());                    journaux.reloadData();                } catch (srcastra.astra.sys.rmi.Exception.ServeurSqlFailure se) {                    ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.SERVEUR_SQL_FAILURE, srcastra.astra.Astra.DEBUG, se);                }                catch (java.rmi.RemoteException re) {                    ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);                }            }        }    }//GEN-LAST:event_grp_But_nouvActionPerformed    private void grp_But_AnnulerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_AnnulerActionPerformed        m_parent.getOptionDialog().dispose();// Add your handling code here:    }//GEN-LAST:event_grp_But_AnnulerActionPerformed    private void enableExCompta(boolean enabled) {        compta.getGrp_TField_abrev1().setEnabled(enabled);        compta.getGrp_TField_abrev2().setEnabled(enabled);        compta.getGrp_TField_intitule1().setEnabled(enabled);        compta.getGrp_TField_intitule2().setEnabled(enabled);        compta.getGrp_Combo_annee().setEnabled(enabled);        compta.getGrp_Combo_de().setEnabled(enabled);        compta.getGrp_Combo_a().setEnabled(enabled);    }    private void grp_But_AcceptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_grp_But_AcceptActionPerformed        try {            chargeData();            m_parent.getConfigRmi().modifyConfig(srcastra.astra.sys.configuration.MainConfig.getMainConfig().getConfig(), m_parent.getCurrentUser().getUrcleunik());            if (m_parent.getExercice() == null) {                ExerciceCompt_T exercice = new ExerciceCompt_T();                exercice.setExle_abrevfr(compta.getGrp_TField_abrev1().getText());                exercice.setExle_abrevnl(compta.getGrp_TField_abrev2().getText());                exercice.setExle_intitulefr(compta.getGrp_TField_intitule1().getText());                exercice.setExle_intitulevnl(compta.getGrp_TField_intitule2().getText());                Logger.getDefaultLogger().log(Logger.LOG_INFOS, "année" + compta.getGrp_Combo_annee().getSelectedItem().toString());                exercice.setExle_annee(compta.getGrp_Combo_annee().getSelectedItem().toString());                exercice.setExle_debut(compta.getGrp_Combo_de().getSelectedIndex());                exercice.setExle_fin(compta.getGrp_Combo_a().getSelectedIndex());                exercice.calculBegAndEndDate();                exercice.setExle_nbrperiode((exercice.getExle_fin() - exercice.getExle_debut()) + 1);                Logger.getDefaultLogger().log(Logger.LOG_INFOS, "Date de début" + exercice.getExle_datedebut().toString2());                Logger.getDefaultLogger().log(Logger.LOG_INFOS, "Date de début" + exercice.getExle_datedefin().toString2());                int id = m_parent.getServeur().renvParamCompta(m_parent.getCurrentUser().getUrcleunik()).insertExComptable(exercice, m_parent.getCurrentUser().getUrcleunik());                enableExCompta(false);                exercice.setExle_cleunik(id);                m_parent.setExercice(exercice);            }            //  m_frame.mainconfig.setConfig(tmp);        } catch (srcastra.astra.sys.rmi.Exception.ServeurSqlFailure se) {            ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.SERVEUR_SQL_FAILURE, srcastra.astra.Astra.DEBUG, se);        }        catch (java.rmi.RemoteException re) {            ErreurScreenLibrary.displayErreur(this, ErreurScreenLibrary.REMOTE_EXCEPTION, srcastra.astra.Astra.DEBUG, re);        }        // Add your handling code here:    }//GEN-LAST:event_grp_But_AcceptActionPerformed    public void applyChanges() {    }    public java.awt.Component getComponent() {        return this;    }    public srcastra.astra.gui.modules.config.ConfigMediator getMediator() {        return m_mediator;    }    MouseAdapter my_mouse = new MouseAdapter() {        public void mouseClicked(MouseEvent evt) {        }    };    // Variables declaration - do not modify//GEN-BEGIN:variables    private srcastra.astra.gui.components.checkbox.ACheckBox grp_ACombo_annulfees;    private javax.swing.JButton grp_But_Accept;    private javax.swing.JButton grp_But_Ajouter;    private javax.swing.JButton grp_But_Annuler;    private javax.swing.JButton grp_But_modifier;    private javax.swing.JButton grp_But_nouv;    private srcastra.astra.gui.components.checkbox.ACheckBox grp_Check_fraistvainclus;    private javax.swing.JCheckBox grp_Check_multibureaux;    private javax.swing.JCheckBox grp_Check_user;    private srcastra.astra.gui.components.combobox.liste.Liste grp_Liste_fraistva;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_frais;    private srcastra.astra.gui.components.textFields.ATextField grp_TField_nbrlettre;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_comptefrais;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_fees;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_remise;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_taxcomp;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_taxdest;    private srcastra.astra.gui.components.combobox.liste.Liste grp_liste_taxloc;    private javax.swing.JLabel jLabel1;    private javax.swing.JLabel jLabel11;    private javax.swing.JLabel jLabel12;    private javax.swing.JLabel jLabel13;    private javax.swing.JLabel jLabel14;    private javax.swing.JLabel jLabel17;    private javax.swing.JLabel jLabel2;    private javax.swing.JLabel jLabel3;    private javax.swing.JLabel jLabel4;    private javax.swing.JLabel jLabel5;    private javax.swing.JLabel jLabel6;    private javax.swing.JLabel jLabel7;    private javax.swing.JLabel jLabel8;    private javax.swing.JLabel jLabel9;    private javax.swing.JPanel jPanel1;    private javax.swing.JPanel jPanel10;    private javax.swing.JPanel jPanel11;    private javax.swing.JPanel jPanel2;    private javax.swing.JPanel jPanel3;    private javax.swing.JPanel jPanel4;    private javax.swing.JPanel jPanel5;    private javax.swing.JPanel jPanel6;    private javax.swing.JPanel jPanel7;    private javax.swing.JPanel jPanel8;    private javax.swing.JPanel jPanel9;    private javax.swing.JTabbedPane jTabbedPane1;    // End of variables declaration//GEN-END:variables}