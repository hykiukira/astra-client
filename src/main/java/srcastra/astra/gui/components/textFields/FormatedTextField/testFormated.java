/*





 * testFormated.java





 *





 * Created on 28 november 2002, 9:26





 */


package srcastra.astra.gui.components.textFields.FormatedTextField;


import javax.swing.*;


import java.awt.Dimension;


import srcastra.astra.gui.filter.*;


import javax.swing.text.*;


import srcastra.astra.gui.sys.formVerification.*;


import java.awt.*;


import java.util.*;


import java.text.*;


import srcastra.astra.gui.components.textFields.FormatedTextField.formats.*;


/**
 * @author Thomas
 */


public class testFormated extends javax.swing.JFrame {


    /**
     * Creates new form testFormated
     */


    public testFormated() {


        initComponents();

        // DocumentFilter dfilter = new UpcaseFilter();


        DateFormatter fmt = new DateFormatter();


        fmt.setFormat(new SimpleDateFormat("d/M/yyyy"));


        grp_Formated_Text2 = new JFormattedTextField(fmt);


        grp_Formated_Text = new FormatedTextField(new My_DateFormat());


        grp_Formated_Text.setValue(new Float(0.00F));

        // DefaultFormatter fmt = new NumberFormatter(new DecimalFormat("########.00"));

        //fmt.setValueClass(grp_Formated_Text.getValue().getClass());

        // DefaultFormatterFactory fmtFactory = new DefaultFormatterFactory(fmt, fmt, fmt);

        //grp_Formated_Text.setFormatterFactory(fmtFactory);

        // ((AbstractDocument)grp_Formated_Text.getDocument()).setDocumentFilter(dfilter);


        grp_Formated_Text.setPreferredSize(new Dimension(150, 18));


        jPanel1.add(grp_Formated_Text);


        jPanel1.add(new JTextField());


        jPanel1.add(grp_Formated_Text2);

        // setDocument();


    }


    public class UpcaseFilter extends DocumentFilter {


        public void insertString(DocumentFilter.FilterBypass fb, int offset,


                                 String text, AttributeSet attr) throws BadLocationException


        {


            char[] tmp = text.toCharArray();


            for (int i = 0; i < tmp.length; i++)


                System.out.println("char " + tmp[i]);


            fb.insertString(offset, text.toUpperCase(), attr);


        }

        //no need to override remove(): inherited version allows all removals


        public void replace(DocumentFilter.FilterBypass fb, int offset, int length,


                            String text, AttributeSet attr) throws BadLocationException


        {


            char[] tmp = text.toCharArray();


            for (int i = 0; i < tmp.length; i++)


                System.out.println("char " + tmp[i]);


            if (text.equals("."))


                text = ",";


            fb.replace(offset, length, text.toUpperCase(), attr);


        }


    }


    /**
     * This method is called from within the constructor to
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * initialize the form.
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * WARNING: Do NOT modify this code. The content of this method is
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * <p/>
     * always regenerated by the Form Editor.
     */


    private void initComponents() {//GEN-BEGIN:initComponents


        jPanel1 = new javax.swing.JPanel();


        addWindowListener(new java.awt.event.WindowAdapter() {


            public void windowClosing(java.awt.event.WindowEvent evt) {


                exitForm(evt);


            }


        });


        getContentPane().add(jPanel1, java.awt.BorderLayout.CENTER);


        pack();


        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();


        setSize(new java.awt.Dimension(400, 302));


        setLocation((screenSize.width - 400) / 2, (screenSize.height - 302) / 2);


    }//GEN-END:initComponents


    /**
     * Exit the Application
     */


    private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm


        System.exit(0);


    }//GEN-LAST:event_exitForm


    /**
     * @param args the command line arguments
     */


    public static void main(String args[]) {


        new testFormated().show();


    }

    // Variables declaration - do not modify//GEN-BEGIN:variables


    private javax.swing.JPanel jPanel1;

    // End of variables declaration//GEN-END:variables


    private FormatedTextField grp_Formated_Text;


    private JFormattedTextField grp_Formated_Text2;


}





