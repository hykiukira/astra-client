/*

 * testTva.java

 *

 * Created on 29 avril 2003, 12:11

 */


package srcastra.astra.gui.components.tva;

import srcastra.test.*;

import srcastra.astra.gui.modules.*;

/**
 * @author Thomas
 */

public class testTva extends javax.swing.JFrame {


    /**
     * Creates new form testTva
     */

    ServeurConnect kiss;

    TvaMediator tvamediator;

    TvaFrame frame;

    srcastra.astra.sys.Configuration conf;

    int langue;

    String type;

    public testTva() {

        conf = srcastra.astra.sys.Configuration.initConfig();

        tvamediator = new TvaMediator();

        kiss = new ServeurConnect();

        kiss.connectServeur();

        //frame=(TvaFrame)conf.tryReadObject(frame,"component","tvaframe");

        MainScreenModule parent = new srcastra.astra.gui.modules.dossier.productSpecification.gestionnairepaneaux.substitutDossierModule(null, kiss.tmpgestion2);

        kiss.tmpgestion2.setUrlmcleunik(2);

        kiss.tmpgestion2.setUrlmabrev("nl");

        frame = new TvaFrame(this, false, kiss.serveur2, kiss.tmpgestion2, 2, parent);

        langue = 2;

        type = "A";

        frame.setLangue(langue);

        frame.setTvamediator(tvamediator);

        initComponents();

        initListe();

    }

    public void initListe() {

        liste1.setServeur(kiss.serveur2);

        liste1.setLogin(kiss.tmpgestion2);

        liste1.setModel(tvamediator.getModel());

        liste1.init2();

        liste1.setTvamediator(tvamediator);

        // liste1.setColToSearch(1);

    }

    /**
     * This method is called from within the constructor to
     * <p/>
     * initialize the form.
     * <p/>
     * WARNING: Do NOT modify this code. The content of this method is
     * <p/>
     * always regenerated by the Form Editor.
     */

    private void initComponents() {//GEN-BEGIN:initComponents

        jButton1 = new javax.swing.JButton();

        liste1 = new srcastra.astra.gui.components.combobox.liste.Liste();


        getContentPane().setLayout(new java.awt.FlowLayout());


        addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosing(java.awt.event.WindowEvent evt) {

                exitForm(evt);

            }

        });


        jButton1.setText("jButton1");

        jButton1.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {

                jButton1ActionPerformed(evt);

            }

        });


        getContentPane().add(jButton1);


        liste1.setIsLastComponent(true);

        getContentPane().add(liste1);


        pack();

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();

        setSize(new java.awt.Dimension(400, 300));

        setLocation((screenSize.width - 400) / 2, (screenSize.height - 300) / 2);

    }//GEN-END:initComponents


    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed

        srcastra.astra.sys.Configuration conf = srcastra.astra.sys.Configuration.initConfig();

        //  frame.setTvamediator(new Object());

        if (type == "A" && langue == 1)

            conf.tryWriteObject(this.frame, "component", "tvaframeAfr");

        else if (type == "A" && langue == 2)

            conf.tryWriteObject(this.frame, "component", "tvaframeAnl");

        else if (type == "V" && langue == 1)

            conf.tryWriteObject(this.frame, "component", "tvaframeVfr");

        else if (type == "V" && langue == 2)

            conf.tryWriteObject(this.frame, "component", "tvaframeVnl");// Add your handling code here:

    }//GEN-LAST:event_jButton1ActionPerformed


    /**
     * Exit the Application
     */

    private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm

        System.exit(0);

    }//GEN-LAST:event_exitForm


    /**
     * @param args the command line arguments
     */

    public static void main(String args[]) {

        new testTva().show();

    }

    // Variables declaration - do not modify//GEN-BEGIN:variables

    private javax.swing.JButton jButton1;

    private srcastra.astra.gui.components.combobox.liste.Liste liste1;

    // End of variables declaration//GEN-END:variables


}

