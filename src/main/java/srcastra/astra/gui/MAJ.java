/*
 * DateFacturation.java
 *
 * Created on 12 juin 2006, 13:18
 */

package srcastra.astra.gui;

import srcastra.astra.gui.modules.mainScreenModule.DossierMainScreenModule;
import srcastra.astra.sys.classetransfert.utils.*;

import java.awt.Point;
import java.io.*;
import java.awt.Dimension;


/**
 * @author vincent
 */
public class MAJ extends java.awt.Dialog {

    /**
     * Creates new form DateFacturation
     */

    String version;
    File f;


    public MAJ(java.awt.Frame parent1, boolean modal, String details, String version, File file) {
        super(parent1, modal);
        this.parent = parent;
        this.version = version;
        this.f = file;


        initComponents();

        //label1.setText(label1.getText()+" "+this.version);

        this.textArea1.setText(details);

        setSize(560, 500);


        this.setLocation(getCenterPosition());


    }

    private Point getCenterPosition() {


        Dimension dimProg = this.getSize();


        Dimension dimScreen = java.awt.Toolkit.getDefaultToolkit().getScreenSize();

        int Xp = (dimScreen.width - dimProg.width) / 2;


        int Yp = (dimScreen.height - dimProg.height) / 2;


        return new Point(Xp, Yp);


    }

    /**
     * This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        label1 = new java.awt.Label();
        jButton1 = new javax.swing.JButton();
        textArea1 = new java.awt.TextArea();
        checkbox1 = new java.awt.Checkbox();

        setLayout(null);

        setBackground(java.awt.Color.white);
        setForeground(java.awt.Color.white);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                closeDialog(evt);
            }
        });

        label1.setAlignment(java.awt.Label.CENTER);
        label1.setBackground(java.awt.Color.white);
        label1.setFont(new java.awt.Font("Tahoma", 1, 12));
        label1.setForeground(new java.awt.Color(0, 0, 0));
        label1.setText("Astra Travel-back office system : COMMUNICATION");
        add(label1);
        label1.setBounds(0, 50, 540, 19);

        jButton1.setText("CLOSE");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        add(jButton1);
        jButton1.setBounds(0, 450, 540, 23);

        textArea1.setBackground(new java.awt.Color(255, 255, 255));
        textArea1.setEditable(false);
        textArea1.setFont(new java.awt.Font("Arial", 0, 12));
        textArea1.setForeground(new java.awt.Color(0, 0, 0));
        add(textArea1);
        textArea1.setBounds(10, 90, 520, 330);

        checkbox1.setForeground(new java.awt.Color(255, 51, 102));
        checkbox1.setLabel("MESSAGE LU  /  BERICHT GELEZEN");
        add(checkbox1);
        checkbox1.setBounds(10, 430, 530, 20);

        pack();
    }//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        this.closeDialog(null);


    }//GEN-LAST:event_jButton1ActionPerformed

    /**
     * Closes the dialog
     */
    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog

        if (this.checkbox1.getState()) {
            try {
                f.createNewFile();
                ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(f));
                out.writeObject(version);

                out.close();

            } catch (Exception e) {
            }
        }
        dispose();

    }//GEN-LAST:event_closeDialog

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                // new DateFacturation(new java.awt.Frame(),null,true).setVisible(true);
            }
        });
    }

    private DossierMainScreenModule parent;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private java.awt.Checkbox checkbox1;
    private javax.swing.JButton jButton1;
    private java.awt.Label label1;
    private java.awt.TextArea textArea1;
    // End of variables declaration//GEN-END:variables

}
