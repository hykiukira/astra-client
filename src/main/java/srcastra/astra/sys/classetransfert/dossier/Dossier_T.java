/* * Dossier_T.java * * Created on 28 août 2002, 12:47 */package srcastra.astra.sys.classetransfert.dossier;import java.util.*;import srcastra.astra.sys.classetransfert.dossier.avion.*;import srcastra.astra.sys.classetransfert.clients.Clients_T;import srcastra.astra.sys.classetransfert.dossier.assurance.*;import srcastra.astra.sys.classetransfert.dossier.brochure.*;import srcastra.astra.sys.classetransfert.dossier.hotel.*;import srcastra.astra.sys.classetransfert.dossier.bateau.*;import srcastra.astra.sys.classetransfert.dossier.train.*;import srcastra.astra.sys.classetransfert.dossier.voitureLocation.*;import srcastra.astra.sys.classetransfert.dossier.taxi.*;import srcastra.astra.sys.classetransfert.dossier.divers.Divers_T;import srcastra.astra.sys.classetransfert.User_T;import srcastra.astra.sys.compta.*;import srcastra.astra.sys.classetransfert.utils.*;/** * * @author  Thomas */public class Dossier_T implements java.io.Serializable,InterfaceProduitConstante{        /** Creates a new instance of Dossier_T */Hashtable hasharray;String numfact;boolean comptaModify;Hashtable compteResultat;Hashtable compteSupreduc;Hashtable compteVente;Hashtable compteCaisse;Hashtable compteTva;String numnc;int dr_solde;int dr_numpass;int annuler;int servicefact;double lastPrix=0;    public Dossier_T() {        this.cliIntitule="";        this.fournIntitule="";        this.poBilletIntitule="";        this.destIntitule="";        this.hotelIntitule="";        hasharray=new Hashtable();        hasharray.put(new Integer(produit_T.AS),getAssurance());        hasharray.put(new Integer(produit_T.AV),getAvionTicket());        hasharray.put(new Integer(produit_T.BRO),getBrochure());        hasharray.put(new Integer(produit_T.BA),getBateau());        hasharray.put(new Integer(produit_T.TAX),getTaxi());        hasharray.put(new Integer(produit_T.TR),getTrain());        hasharray.put(new Integer(produit_T.VO),getVoitureLocation());       // hasharray.put(new Integer(produit_T.BA),getBateau());        hasharray.put(new Integer(produit_T.CAR),getCar());        hasharray.put(new Integer(produit_T.HO),getHotel());         hasharray.put(new Integer(produit_T.FRAIS),getFraisDossier());          hasharray.put(new Integer(produit_T.DIV),getDivers());      }public srcastra.astra.sys.classetransfert.utils.Date calculEcheance(){      java.util.Hashtable ticketList=getHasharray();       srcastra.astra.sys.classetransfert.utils.Date date=null;       java.util.TreeSet tree=null;      if(getDr_nbj_av_eche()==0 && this.isNewreccord()){               if(ticketList!=null)                           {                          for(java.util.Enumeration enum2=ticketList.keys();enum2.hasMoreElements();){                                      Hashtable tmp=(Hashtable)ticketList.get(enum2.nextElement());                         if(tmp!=null){                             for(java.util.Enumeration enu=tmp.keys();enu.hasMoreElements();)                             {                                if(tree==null)                                    tree=new java.util.TreeSet();                                produit_T prod=(produit_T)tmp.get(enu.nextElement());                                if(prod.getGroupdec()!=null)                                    tree.add(new Integer(prod.getGroupdec().getGnnbravanteche()));                                                            }                                          }                }                            if(tree!=null){                            java.util.Iterator iter=tree.iterator();                            if(iter.hasNext());                            {                                Integer integ=(Integer)iter.next();                                setDr_nbj_av_eche(integ.intValue());                                                               if(integ.intValue()==0)                               {                                                                    setDr_date_echeance(this.getDr_datetimecrea());                                                                 }                               else                               {                                                                if(!getDr_date_depart().isOpen() && !getDr_date_depart().isUnknow()){                                    date=CalculDate.renvDateEcheance(getDr_date_depart(),integ.intValue());                                       setDr_date_echeance(date);                                }else                                    setDr_date_echeance(getDr_date_depart());                                }                            }                }                }       }else{                      if(getDr_nbj_av_eche()==0)               date=this.getDr_datetimecrea();                      else            date=CalculDate.renvDateEcheance(getDr_date_depart(),getDr_nbj_av_eche());               setDr_date_echeance(date);      }         return date;      }             /** Getter for property cscleunik.     * @return Value of property cscleunik.     */    public int getCscleunik() {        return cscleunik;    }        /** Setter for property cscleunik.     * @param cscleunik New value of property cscleunik.     */    public void setCscleunik(int cscleunik) {        this.cscleunik = cscleunik;    }        public double getLastPrix() {        return this.lastPrix;            }        /** Getter for property drcentrefrais.     * @return Value of property drcentrefrais.     */    public java.lang.String getDrcentrefrais() {        return drcentrefrais;    }        /** Setter for property drcentrefrais.     * @param drcentrefrais New value of property drcentrefrais.     */    public void setDrcentrefrais(java.lang.String drcentrefrais) {        this.drcentrefrais = drcentrefrais;    }        /** Getter for property drcleunik.     * @return Value of property drcleunik.     */    public int getDrcleunik() {        return drcleunik;    }        /** Setter for property drcleunik.     * @param drcleunik New value of property drcleunik.     */    public void setDrcleunik(int drcleunik) {        this.drcleunik = drcleunik;    }        /** Getter for property drnumdos.     * @return Value of property drnumdos.     */    public java.lang.String getDrnumdos() {        return drnumdos;    }        /** Setter for property drnumdos.     * @param drnumdos New value of property drnumdos.     */    public void setDrnumdos(java.lang.String drnumdos) {        this.drnumdos = drnumdos;    }        /** Getter for property drprix.     * @return Value of property drprix.     */    public double getDrprix() {        return drprix;    }        /** Setter for property drprix.     * @param drprix New value of property drprix.     */    public void setDrprix(double drprix) {        this.drprix = drprix;    }        /** Getter for property drreference.     * @return Value of property drreference.     */    public java.lang.String getDrreference() {        return drreference;    }        /** Setter for property drreference.     * @param drreference New value of property drreference.     */    public void setDrreference(java.lang.String drreference) {        this.drreference = drreference;    }        /** Getter for property drstatus.     * @return Value of property drstatus.     */    public int getDrstatus() {        return drstatus;    }        /** Setter for property drstatus.     * @param drstatus New value of property drstatus.     */    public void setDrstatus(int drstatus) {        this.drstatus = drstatus;    }        /** Getter for property drtotalprix.     * @return Value of property drtotalprix.     */    public double getDrtotalprix() {        return drtotalprix;    }        /** Setter for property drtotalprix.     * @param drtotalprix New value of property drtotalprix.     */    public void setDrtotalprix(double drtotalprix) {        this.drtotalprix = drtotalprix;    }        /** Getter for property drtva.     * @return Value of property drtva.     */    public double getDrtva() {        return drtva;    }        /** Setter for property drtva.     * @param drtva New value of property drtva.     */    public void setDrtva(double drtva) {        this.drtva = drtva;    }        /** Getter for property listModif.     * @return Value of property listModif.     */    public ArrayList getListModif() {        return listModif;    }/*public void fillTva(produit_T prod){    if(prod!=null){      Tva_abrev_T tva=new Tva_abrev_T();      tva.setTva_id(prod.getGroupdec().getGncodetvavente());      tva.setTva_rate(prod.getGroupdec().getValeurGenFloat1();      tva.setTva_base(prod.getValeur_tot();      tva.setTva_value(prod.getMontant_tva());            }*/                        //}        /** Setter for property listModif.     * @param listModif New value of property listModif.     */    public void setListModif(ArrayList listModif) {        this.listModif = listModif;    }        /** Getter for property requete.     * @return Value of property requete.     */    public java.lang.String[] getRequete() {        return this.requete;    }        /** Setter for property requete.     * @param requete New value of property requete.     */    public void setRequete(java.lang.String[] requete) {        this.requete = requete;    }        /** Getter for property urcleunikcrea.     * @return Value of property urcleunikcrea.     */    public int getUrcleunikcrea() {        return urcleunikcrea;    }        /** Setter for property urcleunikcrea.     * @param urcleunikcrea New value of property urcleunikcrea.     */    public void setUrcleunikcrea(int urcleunikcrea) {        this.urcleunikcrea = urcleunikcrea;    }        /** Getter for property drtaxe.     * @return Value of property drtaxe.     */    public double getDrtaxe() {        return drtaxe;    }        /** Setter for property drtaxe.     * @param drtaxe New value of property drtaxe.     */    public void setDrtaxe(double drtaxe) {        this.drtaxe = drtaxe;    }        /** Getter for property cscleunik_fact.     * @return Value of property cscleunik_fact.     */    public int getCscleunik_fact() {        return cscleunik_fact;    }        /** Setter for property cscleunik_fact.     * @param cscleunik_fact New value of property cscleunik_fact.     */    public void setCscleunik_fact(int cscleunik_fact) {        this.cscleunik_fact = cscleunik_fact;    }        /** Getter for property dr_date_depart.     * @return Value of property dr_date_depart.     */    public srcastra.astra.sys.classetransfert.utils.Date getDr_date_depart() {        return dr_date_depart;    }        /** Setter for property dr_date_depart.     * @param dr_date_depart New value of property dr_date_depart.     */    public void setDr_date_depart(srcastra.astra.sys.classetransfert.utils.Date dr_date_depart) {        this.dr_date_depart = dr_date_depart;    }        /** Getter for property dr_date_retour.     * @return Value of property dr_date_retour.     */    public srcastra.astra.sys.classetransfert.utils.Date getDr_date_retour() {        return dr_date_retour;    }        /** Setter for property dr_date_retour.     * @param dr_date_retour New value of property dr_date_retour.     */    public void setDr_date_retour(srcastra.astra.sys.classetransfert.utils.Date dr_date_retour) {        this.dr_date_retour = dr_date_retour;    }        /** Getter for property avionTicket.     * @return Value of property avionTicket.     */    public java.util.Hashtable getAvionTicket() {        if(avionTicket==null)            avionTicket=new Hashtable();        return avionTicket;    }        /** Setter for property avionTicket.     * @param avionTicket New value of property avionTicket.     */    public void setAvionTicket(java.util.Hashtable avionTicket) {        this.avionTicket = avionTicket;    }        /** Getter for property dr_datetimecrea.     * @return Value of property dr_datetimecrea.     */    public srcastra.astra.sys.classetransfert.utils.Date getDr_datetimecrea() {        return dr_datetimecrea;    }        /** Setter for property dr_datetimecrea.     * @param dr_datetimecrea New value of property dr_datetimecrea.     */    public void setDr_datetimecrea(srcastra.astra.sys.classetransfert.utils.Date dr_datetimecrea) {        this.dr_datetimecrea = dr_datetimecrea;    }        /** Getter for property passager.     * @return Value of property passager.     */    public java.util.ArrayList getPassager() {        return passager;    }        /** Setter for property passager.     * @param passager New value of property passager.     */    public void setPassager(java.util.ArrayList passager) {        this.passager = passager;    }    public void addPassager(Passager_T tmpPassager){        if(this.passager==null)            this.passager=new ArrayList();        this.passager.add(tmpPassager);            }     public void addTicket(Avion_ticket_T tmpTicket){        calculEcheance();        if(this.avionTicket==null)            this.avionTicket=new Hashtable();        try{            Avion_ticket_T ticket=(Avion_ticket_T)tmpTicket.clone();             setDossirProduit(ticket);            this.avionTicket.put(new Long(ticket.getAt_cleunik()),ticket);            tmpTicket=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }     public void modifyTicket(Avion_ticket_T tmpTicket){        if(this.avionTicket==null)            this.avionTicket=new Hashtable();        try{            Avion_ticket_T ticket=(Avion_ticket_T)tmpTicket.clone();            this.avionTicket.remove(new Long(ticket.getAt_cleunik()));            this.avionTicket.put(new Long(ticket.getAt_cleunik()),ticket);            tmpTicket=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }     /** Getter for property dr_nbrenuit.      * @return Value of property dr_nbrenuit.      */     public int getDr_nbrenuit() {         return dr_nbrenuit;     }          /** Setter for property dr_nbrenuit.      * @param dr_nbrenuit New value of property dr_nbrenuit.      */     public void setDr_nbrenuit(int dr_nbrenuit) {         this.dr_nbrenuit = dr_nbrenuit;     }          /** Getter for property dr_type_booking.      * @return Value of property dr_type_booking.      */     public int getDr_type_booking() {         return dr_type_booking;     }          /** Setter for property dr_type_booking.      * @param dr_type_booking New value of property dr_type_booking.      */     public void setDr_type_booking(int dr_type_booking) {         this.dr_type_booking = dr_type_booking;     }          /** Getter for property csContractuel.      * @return Value of property csContractuel.      */     public java.lang.String getCsContractuel() {         return csContractuel;     }          /** Setter for property csContractuel.      * @param csContractuel New value of property csContractuel.      */     public void setCsContractuel(java.lang.String csContractuel) {         this.csContractuel = csContractuel;     }          /** Getter for property csFacturable.      * @return Value of property csFacturable.      */     public java.lang.String getCsFacturable() {         return csFacturable;     }          /** Setter for property csFacturable.      * @param csFacturable New value of property csFacturable.      */     public void setCsFacturable(java.lang.String csFacturable) {         this.csFacturable = csFacturable;     }          /** Getter for property clientFacturale.      * @return Value of property clientFacturale.      */     public srcastra.astra.sys.classetransfert.clients.Clients_T getClientFacturable() {         return clientFacturable;     }          /** Setter for property clientFacturale.      * @param clientFacturale New value of property clientFacturale.      */     public void setClientFacturable(srcastra.astra.sys.classetransfert.clients.Clients_T clientFacturable) {         if(clientFacturable!=null)         this.clientFacturable = clientFacturable;     }          /** Getter for property clientContracturel.      * @return Value of property clientContracturel.      */     public srcastra.astra.sys.classetransfert.clients.Clients_T getClientContractuel() {         return clientContractuel;     }          /** Setter for property clientContracturel.      * @param clientContracturel New value of property clientContracturel.      */     public void setClientContractuel(srcastra.astra.sys.classetransfert.clients.Clients_T clientContractuel) {         if(clientContractuel!=null)         this.clientContractuel = clientContractuel;     }          /** Getter for property dr_nbrjour.      * @return Value of property dr_nbrjour.      */     public int getDr_nbrjour() {         return dr_nbrjour;     }          /** Setter for property dr_nbrjour.      * @param dr_nbrjour New value of property dr_nbrjour.      */     public void setDr_nbrjour(int dr_nbrjour) {         this.dr_nbrjour = dr_nbrjour;     }          /** Getter for property newreccord.      * @return Value of property newreccord.      */     public boolean isNewreccord() {         return newreccord;     }          /** Setter for property newreccord.      * @param newreccord New value of property newreccord.      */     public void setNewreccord(boolean newreccord) {         this.newreccord = newreccord;     }          /** Getter for property urnom.      * @return Value of property urnom.      */     public java.lang.String getUrnom() {         return urnom;     }          /** Setter for property urnom.      * @param urnom New value of property urnom.      */     public void setUrnom(java.lang.String urnom) {         this.urnom = urnom;     }          /** Getter for property modifreccord.      * @return Value of property modifreccord.      */     public boolean isModifreccord() {         return modifreccord;     }          /** Setter for property modifreccord.      * @param modifreccord New value of property modifreccord.      */     public void setModifreccord(boolean modifreccord) {         this.modifreccord = modifreccord;     }          /** Getter for property listPassagerModif.      * @return Value of property listPassagerModif.      */     public boolean isListPassagerModif() {         return listPassagerModif;     }          /** Setter for property listPassagerModif.      * @param listPassagerModif New value of property listPassagerModif.      */     public void setListPassagerModif(boolean listPassagerModif) {         this.listPassagerModif = listPassagerModif;     }     public Hashtable returnCorrectArrayList(int typeOfArray){         if(typeOfArray==AV)             return this.avionTicket;         if (typeOfArray == AS)             return this.assurance;         if (typeOfArray == BRO)              return this.brochure;         if (typeOfArray == HO)              return this.hotel;         if (typeOfArray == BA)              return this.bateau;         if (typeOfArray == TR)              return this.train;         if (typeOfArray == VO)              return this.voitureLocation;                 if (typeOfArray == TAX)              return this.taxi;          if (typeOfArray == CAR)              return this.car;         if (typeOfArray == DIV)              return this.divers;         return null;                       }          /** Getter for property dr_nbj_av_eche.      * @return Value of property dr_nbj_av_eche.      */     public int getDr_nbj_av_eche() {         return dr_nbj_av_eche;     }          /** Setter for property dr_nbj_av_eche.      * @param dr_nbj_av_eche New value of property dr_nbj_av_eche.      */     public void setDr_nbj_av_eche(int dr_nbj_av_eche) {         this.dr_nbj_av_eche = dr_nbj_av_eche;     }          /** Getter for property dr_date_echeance.      * @return Value of property dr_date_echeance.      */     public srcastra.astra.sys.classetransfert.utils.Date getDr_date_echeance() {         return dr_date_echeance;     }          /** Setter for property dr_date_echeance.      * @param dr_date_echeance New value of property dr_date_echeance.      */     public void setDr_date_echeance(srcastra.astra.sys.classetransfert.utils.Date dr_date_echeance) {         this.dr_date_echeance = dr_date_echeance;     }          /** Getter for property dr_type_payement.      * @return Value of property dr_type_payement.      */     public int getDr_type_payement() {         return dr_type_payement;     }          /** Setter for property dr_type_payement.      * @param dr_type_payement New value of property dr_type_payement.      */     public void setDr_type_payement(int dr_type_payement) {         this.dr_type_payement = dr_type_payement;     }     public void addPayement(int cleunik,srcastra.astra.sys.classetransfert.utils.Date date,double prix,int typepayement){         if(payement==null)            payement=new TreeMap();            Payement_T lpayement=new Payement_T(cleunik,date,prix,typepayement);            payement.put(lpayement.getM_payementcleunik(),lpayement);              }      public void addPayement2(Payement_T pay){         if(payement==null)            payement=new TreeMap();            payement.put(pay.getM_payementcleunik(),pay);              }          /** Getter for property payement.      * @return Value of property payement.      */     public java.util.TreeMap getPayement() {         return payement;     }          /** Setter for property payement.      * @param payement New value of property payement.      */     public void setPayement(java.util.TreeMap payement) {         this.payement = payement;     }          /** Getter for property supReducDossier.      * @return Value of property supReducDossier.      */     public java.util.Hashtable getSupReducDossier() {         return supReducDossier;     }          /** Getter for property assurance.      * @return Value of property assurance.      */     public java.util.Hashtable getAssurance() {        if(assurance==null)            assurance=new Hashtable();         return assurance;     }          /** Setter for property supReducDossier.      * @param supReducDossier New value of property supReducDossier.      */     public void setSupReducDossier(java.util.Hashtable supReducDossier) {         this.supReducDossier = supReducDossier;     }     public void add_supreduc_dossier(Sup_reduc_T supreduc){         if(supReducDossier==null)             supReducDossier=new Hashtable();         supReducDossier.put(new Long(supreduc.getAt_cleunik()),supreduc);             }          /** Setter for property assurance.      * @param assurance New value of property assurance.      */     public void setAssurance(java.util.Hashtable assurance) {         this.assurance = assurance;     }          public void addAssurance(Assurance_T tmpAssurance){            calculEcheance();        if(this.assurance==null)            this.assurance=new Hashtable();        try{            Assurance_T assu=(Assurance_T)tmpAssurance.clone();            setDossirProduit(assu);            this.assurance.put(new Long(assu.getAce_cleUnik()),assu);            tmpAssurance=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }          /** Getter for property brochure.      * @return Value of property brochure.      */     public java.util.Hashtable getBrochure() {        if(brochure==null)            brochure=new Hashtable();         return brochure;     }               /** Setter for property brochure.      * @param brochure New value of property brochure.      */     public void setBrochure(java.util.Hashtable brochure) {         this.brochure = brochure;     }          public void addBrochure(Brochure_T tmpBroch){     calculEcheance();        if(this.brochure==null)            this.brochure=new Hashtable();        try{            Brochure_T broch=(Brochure_T)tmpBroch.clone();            setDossirProduit(broch);            this.brochure.put(new Long(broch.getBro_cleUnik()),broch);            tmpBroch=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }          /** Getter for property fraisDossier.      * @return Value of property fraisDossier.      */     public java.util.Hashtable getFraisDossier() {     if(fraisDossier==null)         fraisDossier=new Hashtable();         return fraisDossier;     }          /** Setter for property fraisDossier.      * @param fraisDossier New value of property fraisDossier.      */     public void setFraisDossier(java.util.Hashtable fraisDossier) {         this.fraisDossier = fraisDossier;     }          public void addFraisDossier(Frais_T frais){         if(fraisDossier==null)             fraisDossier=new Hashtable();         setDossirProduit(frais);         fraisDossier.put(new Long(frais.getCleunik()),frais);                  System.out.println("ta mère");              }     /** Getter for property hotel.      * @return Value of property hotel.      */     public java.util.Hashtable getHotel() {        if(hotel==null)            hotel=new Hashtable();         return hotel;     }          /** Setter for property hotel.      * @param hotel New value of property hotel.      */     public void setHotel(java.util.Hashtable hotel) {         this.hotel = hotel;     }               public void addHotel(Hotel_T tmpHot){         calculEcheance();        if(this.hotel==null)            this.hotel=new Hashtable();        try{            Hotel_T hot=(Hotel_T)tmpHot.clone();            setDossirProduit(hot);            this.hotel.put(new Long(hot.getHl_cleUnik()), hot);            tmpHot=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }         private void setDossirProduit(produit_T prod){        prod.setDossier(this);              }          /** Getter for property bateau.      * @return Value of property bateau.      */     public java.util.Hashtable getBateau() {        if(bateau==null)            bateau=new Hashtable();                     return bateau;     }     public java.util.Hashtable getCar() {        if(car==null)            car=new Hashtable();         return car;     }          /** Setter for property bateau.      * @param bateau New value of property bateau.      */     public void setBateau(java.util.Hashtable bateau) {         this.bateau = bateau;     }               public void addBateau(Bateau_T tmpBat){         calculEcheance();        if(this.bateau==null)            this.bateau=new Hashtable();        try{            Bateau_T bat=(Bateau_T)tmpBat.clone();            setDossirProduit(bat);            this.bateau.put(new Long(bat.getBat_cleUnik()), bat);            tmpBat=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }          /** Getter for property train.      * @return Value of property train.      */     public java.util.Hashtable getTrain() {        if(train==null)train=new Hashtable();         return train;     }          /** Setter for property train.      * @param train New value of property train.      */     public void setTrain(java.util.Hashtable train) {         this.train = train;     }           public void addTrain(Train_T tmpBat){          calculEcheance();        if(this.train==null)            this.train=new Hashtable();        try{            Train_T tr=(Train_T)tmpBat.clone();            setDossirProduit(tr);            this.train.put(new Long(tr.getTrn_cleUnik()), tr);            tmpBat=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }               /** Getter for property hotelIntitule.      * @return Value of property hotelIntitule.      */     public java.lang.String getHotelIntitule() {       if(hotelIntitule==null) hotelIntitule="";         return hotelIntitule;     }          /** Setter for property hotelIntitule.      * @param hotelIntitule New value of property hotelIntitule.      */     public void setHotelIntitule(java.lang.String hotelIntitule) {         this.hotelIntitule = hotelIntitule;     }          /** Getter for property fournIntitule.      * @return Value of property fournIntitule.      */     public java.lang.String getFournIntitule() {         return fournIntitule;     }          /** Setter for property fournIntitule.      * @param fournIntitule New value of property fournIntitule.      */     public void setFournIntitule(java.lang.String fournIntitule) {         this.fournIntitule = fournIntitule;     }          /** Getter for property cliIntitule.      * @return Value of property cliIntitule.      */     public java.lang.String getCliIntitule() {         return cliIntitule;     }          /** Setter for property cliIntitule.      * @param cliIntitule New value of property cliIntitule.      */     public void setCliIntitule(java.lang.String cliIntitule) {         this.cliIntitule = cliIntitule;     }          /** Getter for property poIntitule.      * @return Value of property poIntitule.      */     public java.lang.String getPoIntitule() {         if(poIntitule==null) poIntitule="";         return poIntitule;     }          /** Setter for property poIntitule.      * @param poIntitule New value of property poIntitule.      */     public void setPoIntitule(java.lang.String poIntitule) {         this.poIntitule = poIntitule;     }          /** Getter for property destIntitule.      * @return Value of property destIntitule.      */     public java.lang.String getDestIntitule() {         if(destIntitule==null)destIntitule="";         return destIntitule;     }          /** Setter for property destIntitule.      * @param destIntitule New value of property destIntitule.      */     public void setDestIntitule(java.lang.String destIntitule) {         this.destIntitule = destIntitule;     }          /** Getter for property poBilletIntitule.      * @return Value of property poBilletIntitule.      */     public java.lang.String getPoBilletIntitule() {         if(poBilletIntitule==null)             poBilletIntitule="";         return poBilletIntitule;     }          /** Setter for property poBilletIntitule.      * @param poBilletIntitule New value of property poBilletIntitule.      */     public void setPoBilletIntitule(java.lang.String poBilletIntitule) {         this.poBilletIntitule = poBilletIntitule;     }          /** Getter for property voitureLocation.      * @return Value of property voitureLocation.      */     public java.util.Hashtable getVoitureLocation() {        if(voitureLocation==null)            voitureLocation=new Hashtable();         return voitureLocation;     }          /** Setter for property voitureLocation.      * @param voitureLocation New value of property voitureLocation.      */     public void setVoitureLocation(java.util.Hashtable voitureLocation) {         this.voitureLocation = voitureLocation;     }           public void addVoitureLocation(VoitureLocation_T tmpVoit){          calculEcheance();        if(this.voitureLocation==null)            this.voitureLocation=new Hashtable();        try{            VoitureLocation_T voit=(VoitureLocation_T)tmpVoit.clone();            setDossirProduit(voit);            this.voitureLocation.put(new Long(voit.getVl_cleUnik()), voit);            tmpVoit=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }      public void addDivers(Divers_T tmpDiv){          calculEcheance();        if(this.divers==null)            this.divers=new Hashtable();        try{            Divers_T div=(Divers_T)tmpDiv.clone();            setDossirProduit(div);            this.divers.put(new Long(div.getAt_cleunik()), div);            tmpDiv=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }        public void addCar(VoitureLocation_T tmpVoit){      calculEcheance();        if(this.car==null)            this.car=new Hashtable();        try{            VoitureLocation_T voit=(VoitureLocation_T)tmpVoit.clone();            setDossirProduit(voit);            this.car.put(new Long(voit.getVl_cleUnik()), voit);            tmpVoit=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }      /** Getter for property taxi.       * @return Value of property taxi.       */      public java.util.Hashtable getTaxi() {        if(taxi==null)taxi=new Hashtable();          return taxi;      }            /** Setter for property taxi.       * @param taxi New value of property taxi.       */      public void setTaxi(java.util.Hashtable taxi) {          this.taxi = taxi;      }            public void addTaxi(Taxi_T tmpTax){          calculEcheance();        if(this.taxi==null)            this.taxi=new Hashtable();        try{            Taxi_T tax=(Taxi_T)tmpTax.clone();            setDossirProduit(tax);            this.taxi.put(new Long(tax.getTax_cleUnik()), tax);            tmpTax=null;        }catch(CloneNotSupportedException ce)        {            ce.printStackTrace();        }    }            /** Getter for property creator.       * @return Value of property creator.       */      public User_T getCreator() {          return creator;      }                  /** Setter for property creator.       * @param creator New value of property creator.       */      public void setCreator(User_T creator) {          this.creator = creator;      }            /** Getter for property usermodificator.       * @return Value of property usermodificator.       */      public java.util.Hashtable getUsermodificator() {          return usermodificator;      }            /** Setter for property usermodificator.       * @param usermodificator New value of property usermodificator.       */      public void setUsermodificator(java.util.Hashtable usermodificator) {          this.usermodificator = usermodificator;      }      public void addUser(User_T user){       if(this.usermodificator==null)           this.usermodificator=new Hashtable();       this.usermodificator.put(new Integer(user.getUrcleunik()),user);      }            /** Getter for property dr_facture.       * @return Value of property dr_facture.       */      public int getDr_facture() {          return dr_facture;      }            /** Setter for property dr_facture.       * @param dr_facture New value of property dr_facture.       */      public void setDr_facture(int dr_facture) {          this.dr_facture = dr_facture;      }            /** Getter for property Dr_Paye.       * @return Value of property Dr_Paye.       */      public double getDr_Paye() {          return Dr_Paye;      }            /** Setter for property Dr_Paye.       * @param Dr_Paye New value of property Dr_Paye.       */      public void setDr_Paye(double Dr_Paye) {          this.Dr_Paye = Dr_Paye;      }      public int getPassagerNumber(){        int j=0;          if(passager!=null)           for(int i=0;i<passager.size();i++){               Passager_T tmppass=(Passager_T)passager.get(i);               if(!tmppass.isDeleted())                   j++;                          }          return j;                }            /** Getter for property dr_ascomp.       * @return Value of property dr_ascomp.       */      public int getDr_ascomp() {          return dr_ascomp;      }            /** Setter for property dr_ascomp.       * @param dr_ascomp New value of property dr_ascomp.       */      public void setDr_ascomp(int dr_ascomp) {          this.dr_ascomp = dr_ascomp;      }            /** Getter for property dr_asbagage.       * @return Value of property dr_asbagage.       */      public int getDr_asbagage() {          return dr_asbagage;      }            /** Setter for property dr_asbagage.       * @param dr_asbagage New value of property dr_asbagage.       */      public void setDr_asbagage(int dr_asbagage) {          this.dr_asbagage = dr_asbagage;      }            /** Getter for property dr_asannul.       * @return Value of property dr_asannul.       */      public int getDr_asannul() {          return dr_asannul;      }            /** Setter for property dr_asannul.       * @param dr_asannul New value of property dr_asannul.       */      public void setDr_asannul(int dr_asannul) {          this.dr_asannul = dr_asannul;      }      public void calculTotalProduit(){                    //this.getClientFacturable().getCsmontcotisation();                                        lastPrix=this.getDrprix();                    System.out.println("last prix"+lastPrix);                    int statut=0;          ArrayList tmp=new ArrayList();          Hashtable tmpHash=null;          Hashtable tmpHash2=getHasharray();          if(getFraisDossier()!=null)            tmpHash2.put(new Integer(produit_T.FRAIS),getFraisDossier());         /* tmp.add(getBrochure());          tmp.add(getTaxi());          tmp.add(getTrain());          tmp.add(getVoitureLocation());          tmp.add(getAssurance());          tmp.add(getAvionTicket());          tmp.add(getHotel());          tmp.add(getBateau());          tmp.add(getFraisDossier());*/          double totalHtva=0;          double totaltva=0;          double totaltvainc=0;          lastPrix=0;       for(java.util.Enumeration enum3=tmpHash2.keys();enum3.hasMoreElements();){          tmpHash=(Hashtable)tmpHash2.get(enum3.nextElement());        if(tmpHash!=null)            {           for(java.util.Enumeration enu=tmpHash.keys();enu.hasMoreElements();){                produit_T produit=(produit_T)tmpHash.get(enu.nextElement());                if(!produit.isDeleted()){                System.out.println("tp"+produit.getTypeDeProduitNom());                                    if(produit.getTypeDeProduitNom()!=null)                        lastPrix=lastPrix+produit.getValeur_tot();                                totalHtva=totalHtva+produit.getValeur_tot();                totaltva=totaltva+produit.getMontant_tva();                totaltvainc=totaltvainc+produit.getValeur_tot_tva_inc();                    if(produit.getStatut()!=0)                        statut=produit.getStatut();                if(produit.getSup_reduc()!=null){                for(java.util.Enumeration enum2=produit.getSup_reduc().keys();enum2.hasMoreElements();){                    Sup_reduc_T supreduc=(Sup_reduc_T)produit.getSup_reduc().get(enum2.nextElement());                    if(!supreduc.isDeleted()){                        if(produit.getTypeDeProduitNom()!=null)                            lastPrix=lastPrix+supreduc.getValeur_tot();                                                totalHtva=totalHtva + supreduc.getValeur_tot();                        totaltva=totaltva+supreduc.getMontant_tva();                        totaltvainc=totaltvainc+supreduc.getValeur_tot_tva_inc();                                           if(supreduc.getSup_statutCleuUnik()!=0)                                     statut=supreduc.getSup_statutCleuUnik();                }                }            }           }          }            }          }        setDrstatus(statut);        setDrprix(MathRound.roundThisToDouble(totalHtva));        setDrtva(MathRound.roundThisToDouble(totaltva));        setDrtotalprix(MathRound.roundThisToDouble(totaltvainc));      }            public void calculTotalPayement(){        double totalPayer=0;        double totalSolde=0;        if(getPayement()!=null)            {                TreeMap tree=getPayement();                Set set=tree.keySet();                Iterator iterator=set.iterator();                while(iterator.hasNext()){                     Payement_T pay=(Payement_T)tree.get(iterator.next());                                          totalPayer=totalPayer+new Double(pay.getPrix()).doubleValue();                              totalPayer=MathRound.roundThisToDouble(totalPayer);                    }            totalSolde=getDrtotalprix()-totalPayer;             totalSolde=MathRound.roundThisToDouble(totalSolde);        }       setDr_Paye(totalPayer);              setDr_solde(totalSolde==0?1:0);      }      /** Getter for property dr_bcd.       * @return Value of property dr_bcd.       */      public int getDr_bcd() {          return dr_bcd;      }            /** Setter for property dr_bcd.       * @param dr_bcd New value of property dr_bcd.       */      public void setDr_bcd(int dr_bcd) {          this.dr_bcd = dr_bcd;      }                  /** Getter for property hasharray.       * @return Value of property hasharray.       */      public java.util.Hashtable getHasharray() {          return hasharray;      }            /** Setter for property hasharray.       * @param hasharray New value of property hasharray.       */      public void setHasharray(java.util.Hashtable hasharray) {          this.hasharray = hasharray;      }            /** Getter for property vectorProd.       * @return Value of property vectorProd.       */      public java.util.ArrayList getVectorProd() {          return vectorProd;      }            /** Setter for property vectorProd.       * @param vectorProd New value of property vectorProd.       */      public void setVectorProd(java.util.ArrayList vectorProd) {          this.vectorProd = vectorProd;      }            /** Getter for property numfact.       * @return Value of property numfact.       */      public java.lang.String getNumfact() {          return numfact;      }            /** Setter for property numfact.       * @param numfact New value of property numfact.       */      public void setNumfact(java.lang.String numfact) {          this.numfact = numfact;      }            /** Getter for property comptaModify.       * @return Value of property comptaModify.       */      public boolean isComptaModify() {          return comptaModify;      }            /** Setter for property comptaModify.       * @param comptaModify New value of property comptaModify.       */      public void setComptaModify(boolean comptaModify) {          this.comptaModify = comptaModify;      }            /** Getter for property compteResultat.       * @return Value of property compteResultat.       */      public java.util.Hashtable getCompteResultat() {          return compteResultat;      }            /** Setter for property compteResultat.       * @param compteResultat New value of property compteResultat.       */      public void setCompteResultat(java.util.Hashtable compteResultat) {          this.compteResultat = compteResultat;      }            /** Getter for property compteSupreduc.       * @return Value of property compteSupreduc.       */      public java.util.Hashtable getCompteSupreduc() {          return compteSupreduc;      }            /** Setter for property compteSupreduc.       * @param compteSupreduc New value of property compteSupreduc.       */      public void setCompteSupreduc(java.util.Hashtable compteSupreduc) {          this.compteSupreduc = compteSupreduc;      }            /** Getter for property compteVente.       * @return Value of property compteVente.       */      public java.util.Hashtable getCompteVente() {          return compteVente;      }            /** Setter for property compteVente.       * @param compteVente New value of property compteVente.       */      public void setCompteVente(java.util.Hashtable compteVente) {          this.compteVente = compteVente;      }            /** Getter for property compteCaisse.       * @return Value of property compteCaisse.       */      public Hashtable getCompteCaisse() {          return compteCaisse;      }            /** Setter for property compteCaisse.       * @param compteCaisse New value of property compteCaisse.       */      public void setCompteCaisse(Hashtable compteCaisse) {          this.compteCaisse = compteCaisse;      }            /** Getter for property compteTva.       * @return Value of property compteTva.       */      public java.util.Hashtable getCompteTva() {          return compteTva;      }            /** Setter for property compteTva.       * @param compteTva New value of property compteTva.       */      public void setCompteTva(java.util.Hashtable compteTva) {          this.compteTva = compteTva;      }            /** Getter for property numnc.       * @return Value of property numnc.       */      public java.lang.String getNumnc() {          return numnc;      }            /** Setter for property numnc.       * @param numnc New value of property numnc.       */      public void setNumnc(java.lang.String numnc) {          this.numnc = numnc;      }            /** Getter for property dr_solde.       * @return Value of property dr_solde.       *       */      public int getDr_solde() {          return dr_solde;      }            /** Setter for property dr_solde.       * @param dr_solde New value of property dr_solde.       *       */      public void setDr_solde(int dr_solde) {          this.dr_solde = dr_solde;      }            /** Getter for property dr_numpass.       * @return Value of property dr_numpass.       *       */      public int getDr_numpass() {          return dr_numpass;      }            /** Setter for property dr_numpass.       * @param dr_numpass New value of property dr_numpass.       *       */      public void setDr_numpass(int dr_numpass) {          this.dr_numpass = dr_numpass;      }            /** Getter for property annuler.       * @return Value of property annuler.       *       */      public int getAnnuler() {          return annuler;      }            /** Setter for property annuler.       * @param annuler New value of property annuler.       *       */      public void setAnnuler(int annuler) {          this.annuler = annuler;      }            /** Getter for property servicefact.       * @return Value of property servicefact.       *       */      public int getServicefact() {          return servicefact;      }            /** Setter for property servicefact.       * @param servicefact New value of property servicefact.       *       */      public void setServicefact(int servicefact) {          this.servicefact = servicefact;      }            /** Getter for property readMode.       * @return Value of property readMode.       *       */      public boolean isReadMode() {          return readMode;      }            /** Setter for property readMode.       * @param readMode New value of property readMode.       *       */      public void setReadMode(boolean readMode) {          this.readMode = readMode;      }            /** Getter for property rattrap.       * @return Value of property rattrap.       *       */      public boolean isRattrap() {          return rattrap;      }            /** Setter for property rattrap.       * @param rattrap New value of property rattrap.       *       */      public void setRattrap(boolean rattrap) {          this.rattrap = rattrap;      }            public boolean isNcFactService() {          return this.ncfactservice;      }            public boolean isGroupe() {          return this.groupe;      }            /** Setter for property rattrap.       * @param rattrap New value of property rattrap.       *       */      public void setNcFactService(boolean ncfactservice) {          this.ncfactservice = ncfactservice;      }             /** Setter for property rattrap.       * @param rattrap New value of property rattrap.       *       */      public void setGroupe(boolean groupe) {          this.groupe = groupe;      }                  /** Getter for property memo.       * @return Value of property memo.       *       */      public srcastra.astra.sys.classetransfert.dossier.Memo_T getMemo() {          return memo;      }            /** Setter for property memo.       * @param memo New value of property memo.       *       */      public void setMemo(srcastra.astra.sys.classetransfert.dossier.Memo_T memo) {          this.memo = memo;      }            /** Getter for property dr_visa.       * @return Value of property dr_visa.       *       */      public int getDr_visa() {          return dr_visa;      }            /** Setter for property dr_visa.       * @param dr_visa New value of property dr_visa.       *       */      public void setDr_visa(int dr_visa) {          this.dr_visa = dr_visa;      }            /** Getter for property dr_identchild.       * @return Value of property dr_identchild.       *       */      public int getDr_identchild() {          return dr_identchild;      }            /** Setter for property dr_identchild.       * @param dr_identchild New value of property dr_identchild.       *       */      public void setDr_identchild(int dr_identchild) {          this.dr_identchild = dr_identchild;      }            /** Getter for property dr_date_facturation.       * @return Value of property dr_date_facturation.       *       */      public srcastra.astra.sys.classetransfert.utils.Date getDr_date_facturation() {          return dr_date_facturation;      }            /** Setter for property dr_date_facturation.       * @param dr_date_facturation New value of property dr_date_facturation.       *       */      public void setDr_date_facturation(srcastra.astra.sys.classetransfert.utils.Date dr_date_facturation) {          this.dr_date_facturation = dr_date_facturation;      }            /** Getter for property dr_voy.       * @return Value of property dr_voy.       *       */      public int getDr_voy() {          return dr_voy;      }            /** Setter for property dr_voy.       * @param dr_voy New value of property dr_voy.       *       */      public void setDr_voy(int dr_voy) {          this.dr_voy = dr_voy;      }            /** Getter for property dr_annul_lim.       * @return Value of property dr_annul_lim.       *       */      public int getDr_annul_lim() {          return dr_annul_lim;      }            /** Setter for property dr_annul_lim.       * @param dr_annul_lim New value of property dr_annul_lim.       *       */      public void setDr_annul_lim(int dr_annul_lim) {          this.dr_annul_lim = dr_annul_lim;      }            /** Getter for property dr_pass_ob.       * @return Value of property dr_pass_ob.       *       */      public int getDr_pass_ob() {          return dr_pass_ob;      }            /** Setter for property dr_pass_ob.       * @param dr_pass_ob New value of property dr_pass_ob.       *       */      public void setDr_pass_ob(int dr_pass_ob) {          this.dr_pass_ob = dr_pass_ob;      }            /** Getter for property dr_ident.       * @return Value of property dr_ident.       *       */      public int getDr_ident() {          return dr_ident;      }            /** Setter for property dr_ident.       * @param dr_ident New value of property dr_ident.       *       */      public void setDr_ident(int dr_ident) {          this.dr_ident = dr_ident;      }            /** Getter for property dr_cee.       * @return Value of property dr_cee.       *       */      public int getDr_cee() {          return dr_cee;      }            /** Setter for property dr_cee.       * @param dr_cee New value of property dr_cee.       *       */      public void setDr_cee(int dr_cee) {          this.dr_cee = dr_cee;      }            /** Getter for property dr_vacc.       * @return Value of property dr_vacc.       *       */      public int getDr_vacc() {          return dr_vacc;      }            /** Setter for property dr_vacc.       * @param dr_vacc New value of property dr_vacc.       *       */      public void setDr_vacc(int dr_vacc) {          this.dr_vacc = dr_vacc;      }            /** Getter for property divers.       * @return Value of property divers.       *       */      public java.util.Hashtable getDivers() {          if(divers==null)              divers=new Hashtable();          return divers;      }            /** Setter for property divers.       * @param divers New value of property divers.       *       */      public void setDivers(java.util.Hashtable divers) {          this.divers = divers;      }            /** Getter for property tva.       * @return Value of property tva.       */            private String[] requete;        private int drcleunik;    private String drnumdos;    private String drcentrefrais;    private String drreference;    private int drstatus;    private int cscleunik;    private int urcleunikcrea;    private String urnom;    private srcastra.astra.sys.classetransfert.utils.Date dr_datetimecrea;    private double drprix;    private double drtaxe;    private double drtva;    private double drtotalprix;    private int cscleunik_fact;    private srcastra.astra.sys.classetransfert.utils.Date dr_date_depart;    private srcastra.astra.sys.classetransfert.utils.Date dr_date_retour;    private ArrayList listModif;     private Hashtable avionTicket;    private Hashtable assurance;    private Hashtable brochure;    private Hashtable hotel;    private Hashtable bateau;    private Hashtable train;    private Hashtable car;    private Hashtable voitureLocation;    private Hashtable divers;    private Hashtable taxi;    private ArrayList passager;    private int dr_nbrenuit;    private int dr_nbrjour;    private int dr_type_booking;    private String csFacturable;    private String csContractuel;    private Clients_T clientFacturable;    private Clients_T clientContractuel;    private transient boolean newreccord;    private boolean modifreccord;    private transient boolean listPassagerModif;    static final int TP_AVION=1;    static final int TP_HOTEL=2;    static final int TP_BROCHURE=3;    static final int TP_TAXI=4;    private int dr_nbj_av_eche;    private  srcastra.astra.sys.classetransfert.utils.Date dr_date_echeance;    private int dr_type_payement;    private TreeMap payement;    private Hashtable supReducDossier;     private Hashtable fraisDossier;    private String hotelIntitule;    private String fournIntitule;    private String cliIntitule;    private String poIntitule;    private String destIntitule;    private String poBilletIntitule;    private Hashtable usermodificator;    private User_T creator;    private int dr_facture;    private double Dr_Paye;    private int dr_asannul;    private int dr_asbagage;    private int dr_ascomp ;    private int dr_bcd;    private transient ArrayList vectorProd;    boolean readMode;    boolean rattrap;    boolean ncfactservice;    boolean groupe;    Memo_T memo;    int dr_visa;    int dr_identchild;    private srcastra.astra.sys.classetransfert.utils.Date dr_date_facturation;    int dr_voy;    int dr_annul_lim;    int dr_pass_ob;    int dr_ident;    int dr_cee;    int dr_vacc;}