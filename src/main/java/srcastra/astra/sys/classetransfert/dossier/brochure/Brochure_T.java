/* * Brochure_T.java * * Created on 28 octobre 2002, 10:34 */package srcastra.astra.sys.classetransfert.dossier.brochure;import srcastra.astra.sys.classetransfert.utils.*;import java.util.Hashtable;import java.util.ArrayList;import srcastra.astra.sys.classetransfert.Grpdecision_T;import srcastra.astra.gui.test.*;import srcastra.astra.sys.classetransfert.dossier.*;import java.sql.*;import srcastra.astra.sys.classetransfert.*;import srcastra.astra.sys.rmi.*;import srcastra.astra.sys.produit.*;import srcastra.astra.sys.rmi.groupe_dec.*;/**  * * @auth or  Thomas */public class Brochure_T extends srcastra.astra.sys.classetransfert.dossier.produit_T implements java.io.Serializable,Cloneable,ProduitSynthese,srcastra.astra.sys.classetransfert.dossier.InterfaceIndivProduit{        private long bro_cleUnik;    private String bro_contact;        private String bro_po;    private int tecleunik_trans;    private String bro_transport;    private int bro_accomodation;    private String bro_accomodation_libele;    private int de_cleunik;    private String bro_localite;    private String bro_destination;    private String free_destination;    private String bro_logement;    private srcastra.astra.sys.classetransfert.utils.Date bro_embarq;    private int bro_lieuEmbarq_cleUnik;    private String bro_lieuEmbarq_libele;    private srcastra.astra.sys.classetransfert.utils.Date bro_debarq;    private int bro_lieuDebarq_cleUnik;    private String bro_lieuDebarq_libele;    private String bro_num;    private String bro_ref_catalog;    private double bro_valeur;    private int bro_montant;    private String bro_memo;    private int bro_ass_anul;    private int bro_ass_bag;    private int bro_ass_part;        private ArrayList descriptionLogement;    private String bro_memForCatalogue;    private String free_embarq;    private String free_debarq;   // private srcastra.astra.sys.classetransfert.utils.Date bro_datetimecrea;   // private srcastra.astra.sys.classetransfert.utils.Date bro_datetimemodif;  //  public transient srcastra.astra.sys.classetransfert.dossier.ProduitAffichage produitaffichage;        /** Creates a new instance of Brochure_T */    public Brochure_T() {        setPax(1);        setQua(1);        setPrct(100);        setTypeDeProduitCleunik(super.BRO);     }        public long getAt_cleunik() {        return bro_cleUnik;    }           public void setAt_cleunik(long atCleunik) {        bro_cleUnik = atCleunik;    }        public Object clone()throws CloneNotSupportedException{       return super.clone();     }     /*  public void prepareAffichage() {        String tmp=getGroupdec().getGntvainclusvente()==1?"INC":"N.INC";        produitaffichage=new srcastra.astra.sys.classetransfert.dossier.ProduitAffichage(   this,"B",this.getFrnom(),this.getGroupe_produit_nom(),"AV","",this.getBro_memo(),                                                                new Float(this.getBro_valeur()).floatValue(),this.getQua(),this.getPax(),this.getPrct(),"ok",this.getValeur_tot(),                                                                this.getBro_cleUnik(),this.getTypeDeProduitCleunik(),getGroupdec().getValeurGenFloat1(),tmp,getValeur_tot_tva_inc());       }*/        /** Getter for property bro_accomodation.     * @return Value of property bro_accomodation.     */    public int getBro_accomodation() {        return bro_accomodation;    }            /** Setter for property bro_accomodation.     * @param bro_accomodation New value of property bro_accomodation.     */    public void setBro_accomodation(int bro_accomodation) {        this.bro_accomodation = bro_accomodation;    }            /** Getter for property bro_ass_anul.     * @return Value of property bro_ass_anul.     */    public int getBro_ass_anul() {        return bro_ass_anul;    }        /** Setter for property bro_ass_anul.     * @param bro_ass_anul New value of property bro_ass_anul.     */    public void setBro_ass_anul(int bro_ass_anul) {        this.bro_ass_anul = bro_ass_anul;    }        /** Getter for property bro_ass_bag.     * @return Value of property bro_ass_bag.     */    public int getBro_ass_bag() {        return bro_ass_bag;    }        /** Setter for property bro_ass_bag.     * @param bro_ass_bag New value of property bro_ass_bag.     */    public void setBro_ass_bag(int bro_ass_bag) {        this.bro_ass_bag = bro_ass_bag;    }        /** Getter for property bro_ass_part.     * @return Value of property bro_ass_part.     */    public int getBro_ass_part() {        return bro_ass_part;    }        /** Setter for property bro_ass_part.     * @param bro_ass_part New value of property bro_ass_part.     */    public void setBro_ass_part(int bro_ass_part) {        this.bro_ass_part = bro_ass_part;    }        /** Getter for property bro_cleUnik.     * @return Value of property bro_cleUnik.     */    public long getBro_cleUnik() {        return bro_cleUnik;            }        /** Setter for property bro_cleUnik.     * @param bro_cleUnik New value of property bro_cleUnik.     */    public void setBro_cleUnik(long bro_cleUnik) {        this.bro_cleUnik = bro_cleUnik;            }        /** Getter for property bro_contact.     * @return Value of property bro_contact.     */    public java.lang.String getBro_contact() {        return bro_contact;    }        /** Setter for property bro_contact.     * @param bro_contact New value of property bro_contact.     */    public void setBro_contact(java.lang.String bro_contact) {        this.bro_contact = bro_contact;    }        /** Getter for property bro_debarq.     * @return Value of property bro_debarq.     */    public srcastra.astra.sys.classetransfert.utils.Date getBro_debarq() {        return bro_debarq;    }        /** Setter for property bro_debarq.     * @param bro_debarq New value of property bro_debarq.     */    public void setBro_debarq(srcastra.astra.sys.classetransfert.utils.Date bro_debarq) {        this.bro_debarq = bro_debarq;    }        /** Getter for property bro_embarq.     * @return Value of property bro_embarq.     */    public srcastra.astra.sys.classetransfert.utils.Date getBro_embarq() {        return bro_embarq;    }        /** Setter for property bro_embarq.     * @param bro_embarq New value of property bro_embarq.     */    public void setBro_embarq(srcastra.astra.sys.classetransfert.utils.Date bro_embarq) {        this.bro_embarq = bro_embarq;    }        /** Getter for property bro_lieuDebarq_cleUnik.     * @return Value of property bro_lieuDebarq_cleUnik.     */    public int getBro_lieuDebarq_cleUnik() {        return bro_lieuDebarq_cleUnik;    }        /** Setter for property bro_lieuDebarq_cleUnik.     * @param bro_lieuDebarq_cleUnik New value of property bro_lieuDebarq_cleUnik.     */    public void setBro_lieuDebarq_cleUnik(int bro_lieuDebarq_cleUnik) {        this.bro_lieuDebarq_cleUnik = bro_lieuDebarq_cleUnik;    }        /** Getter for property bro_lieuDebarq_libele.     * @return Value of property bro_lieuDebarq_libele.     */    public java.lang.String getBro_lieuDebarq_libele() {        return bro_lieuDebarq_libele;    }        /** Setter for property bro_lieuDebarq_libele.     * @param bro_lieuDebarq_libele New value of property bro_lieuDebarq_libele.     */    public void setBro_lieuDebarq_libele(java.lang.String bro_lieuDebarq_libele) {        if(bro_lieuDebarq_libele==null)            this.bro_lieuDebarq_libele="NO";        else if(bro_lieuDebarq_libele.equals(""))            this.bro_lieuDebarq_libele="NO";        else            this.bro_lieuDebarq_libele = bro_lieuDebarq_libele;    }        /** Getter for property bro_lieuEmbarq_cleUnik.     * @return Value of property bro_lieuEmbarq_cleUnik.     */    public int getBro_lieuEmbarq_cleUnik() {        return bro_lieuEmbarq_cleUnik;    }        /** Setter for property bro_lieuEmbarq_cleUnik.     * @param bro_lieuEmbarq_cleUnik New value of property bro_lieuEmbarq_cleUnik.     */    public void setBro_lieuEmbarq_cleUnik(int bro_lieuEmbarq_cleUnik) {        this.bro_lieuEmbarq_cleUnik = bro_lieuEmbarq_cleUnik;    }        /** Getter for property bro_lieuEmbarq_libele.     * @return Value of property bro_lieuEmbarq_libele.     */    public java.lang.String getBro_lieuEmbarq_libele() {        return bro_lieuEmbarq_libele;    }        /** Setter for property bro_lieuEmbarq_libele.     * @param bro_lieuEmbarq_libele New value of property bro_lieuEmbarq_libele.     */    public void setBro_lieuEmbarq_libele(java.lang.String bro_lieuEmbarq_libele) {        if(bro_lieuEmbarq_libele==null)            this.bro_lieuEmbarq_libele="NO";        else if(bro_lieuEmbarq_libele.equals(""))            this.bro_lieuEmbarq_libele="NO";        else            this.bro_lieuEmbarq_libele = bro_lieuEmbarq_libele;    }        /** Getter for property bro_logement.     * @return Value of property bro_logement.     */    public java.lang.String getBro_logement() {        return bro_logement;    }        /** Setter for property bro_logement.     * @param bro_logement New value of property bro_logement.     */    public void setBro_logement(java.lang.String bro_logement) {        this.bro_logement = bro_logement;    }        /** Getter for property bro_memo.     * @return Value of property bro_memo.     */    public java.lang.String getBro_memo() {        return bro_memo;    }        /** Setter for property bro_memo.     * @param bro_memo New value of property bro_memo.     */    public void setBro_memo(java.lang.String bro_memo) {        this.bro_memo = bro_memo;    }        /** Getter for property bro_num.     * @return Value of property bro_num.     */    public java.lang.String getBro_num() {        return bro_num;    }        /** Setter for property bro_num.     * @param bro_num New value of property bro_num.     */    public void setBro_num(java.lang.String bro_num) {        this.bro_num = bro_num;    }        /** Getter for property bro_po.     * @return Value of property bro_po.     */    public java.lang.String getBro_po() {        return bro_po;    }        /** Setter for property bro_po.     * @param bro_po New value of property bro_po.     */    public void setBro_po(java.lang.String bro_po) {        this.bro_po = bro_po;    }        /** Getter for property bro_ref_catalog.     * @return Value of property bro_ref_catalog.     */    public java.lang.String getBro_ref_catalog() {        return bro_ref_catalog;    }        /** Setter for property bro_ref_catalog.     * @param bro_ref_catalog New value of property bro_ref_catalog.     */    public void setBro_ref_catalog(java.lang.String bro_ref_catalog) {        this.bro_ref_catalog = bro_ref_catalog;    }        /** Getter for property bro_valeur.     * @return Value of property bro_valeur.     */    public double getBro_valeur() {        return bro_valeur;            }        /** Setter for property bro_valeur.     * @param bro_valeur New value of property bro_valeur.     */    public void setBro_valeur(double bro_valeur) {        this.bro_valeur = bro_valeur;        super.setAt_val_vente(new Double(bro_valeur).floatValue());    }        /** Getter for property de_cleunik.     * @return Value of property de_cleunik.     */    public int getDe_cleunik() {        return de_cleunik;    }        /** Setter for property de_cleunik.     * @param de_cleunik New value of property de_cleunik.     */    public void setDe_cleunik(int de_cleunik) {        this.de_cleunik = de_cleunik;    }        /** Getter for property tecleunik_trans.     * @return Value of property tecleunik_trans.     */    public int getTecleunik_trans() {        return tecleunik_trans;    }        /** Setter for property tecleunik_trans.     * @param tecleunik_trans New value of property tecleunik_trans.     */    public void setTecleunik_trans(int tecleunik_trans) {        this.tecleunik_trans = tecleunik_trans;    }        /** Getter for property isattached.     * @return Value of property isattached.     */                   /** Getter for property bro_montant.     * @return Value of property bro_montant.     */    public int getBro_montant() {        return bro_montant;    }        /** Setter for property bro_montant.     * @param bro_montant New value of property bro_montant.     */   // public void setBro_montant(int bro_montant) {     //   this.bro_montant = bro_montant;   //}        /** Getter for property produitaffichage.     * @return Value of property produitaffichage.     */  /*  public srcastra.astra.sys.classetransfert.dossier.ProduitAffichage getProduitaffichage() {        return produitaffichage;    }            public void setProduitaffichage(srcastra.astra.sys.classetransfert.dossier.ProduitAffichage produitaffichage) {        this.produitaffichage = produitaffichage;    }*/        /** Getter for property bro_transport.     * @return Value of property bro_transport.     */    public java.lang.String getBro_transport() {        return bro_transport;    }        /** Setter for property bro_transport.     * @param bro_transport New value of property bro_transport.     */    public void setBro_transport(java.lang.String bro_transport) {        this.bro_transport = bro_transport;    }        /** Getter for property bro_accomodation_libele.     * @return Value of property bro_accomodation_libele.     */    public java.lang.String getBro_accomodation_libele() {        return bro_accomodation_libele;    }        /** Setter for property bro_accomodation_libele.     * @param bro_accomodation_libele New value of property bro_accomodation_libele.     */    public void setBro_accomodation_libele(java.lang.String bro_accomodation_libele) {        this.bro_accomodation_libele = bro_accomodation_libele;    }        /** Getter for property bro_destination.     * @return Value of property bro_destination.     */    public java.lang.String getBro_destination() {        return bro_destination;    }        /** Setter for property bro_destination.     * @param bro_destination New value of property bro_destination.     */    public void setBro_destination(java.lang.String bro_destination) {        this.bro_destination = bro_destination;    }        /** Getter for property bro_localite.     * @return Value of property bro_localite.     */    public java.lang.String getBro_localite() {        return bro_localite;    }        /** Setter for property bro_localite.     * @param bro_localite New value of property bro_localite.     */    public void setBro_localite(java.lang.String bro_localite) {        this.bro_localite = bro_localite;    }        public void addDescriptionLogement(DescriptionLogement_T obj) {        if (descriptionLogement == null) descriptionLogement = new ArrayList();            descriptionLogement.add(obj);          }        public void removeDescriptionLogement(DescriptionLogement_T obj) {        if (descriptionLogement != null) descriptionLogement.remove(obj);    }        /** Getter for property descriptionLogement.     * @return Value of property descriptionLogement.     */    public java.util.ArrayList getDescriptionLogement() {        return descriptionLogement;    }        /** Setter for property descriptionLogement.     * @param descriptionLogement New value of property descriptionLogement.     */    public void setDescriptionLogement(java.util.ArrayList descriptionLogement) {        this.descriptionLogement = descriptionLogement;    }        /** Getter for property bro_statutCleUnik.     * @return Value of property bro_statutCleUnik.     */    /** Getter for property bro_memForCatalogue.     * @return Value of property bro_memForCatalogue.     */    public java.lang.String getBro_memForCatalogue() {        return bro_memForCatalogue;    }        /** Setter for property bro_memForCatalogue.     * @param bro_memForCatalogue New value of property bro_memForCatalogue.     */    public void setBro_memForCatalogue(String bro_memForCatalogue) {        this.bro_memForCatalogue = bro_memForCatalogue;    }    public srcastra.astra.sys.classetransfert.utils.Date getDateDep() {        return this.bro_embarq;    }        public String getDestination() {        return this.bro_destination;    }            public String getLogement() {        return this.bro_accomodation_libele;    }        public String getPnr() {        return this.getBro_po();    }        /** Getter for property free_destination.     * @return Value of property free_destination.     */    public java.lang.String getFree_destination() {        return free_destination;    }            /** Setter for property free_destination.     * @param free_destination New value of property free_destination.     */    public void setFree_destination(java.lang.String free_destination) {        this.free_destination = free_destination;    }        public void annulMe(Connection con, PreparedStatement pstmt) throws SQLException {        pstmt=con.prepareStatement("UPDATE brochure SET annuler=1 WHERE    bro_cleunik  =?");        pstmt.setLong(1,this.getBro_cleUnik());        pstmt.execute();    }        public void chargeDescriptif(Connection con, PreparedStatement pstmt, Dossier_T tmpDossier) throws SQLException {    }        public void chargeMe(Loginusers_T currentuser, astrainterface serveur, Dossier_T dossier, Connection con, double cledossier, PreparedStatement pstmt) throws SQLException, java.rmi.RemoteException {               pstmt=con.prepareStatement("SELECT b.bro_cleunik,b.frgt_cleunik,b.bro_contact,b.bro_po,tecleunik_trans,b.bro_accomodation,b.de_cleunik,b.tecleunik_log,b.bro_embarq,b.bro_debarq,b.bro_num,b.bro_ref_catalog,b.bro_valeur,b.bro_memo,b.bro_ass_anul,b.bro_ass_bag,b.bro_ass_part,b.dr_cleunik,b.bro_datetimecrea,b.bro_datetimemodif,h.hevaleur,h.hevaleurbase,h.hevaleurtva,b.longtime,b.pax,b.quantite,b.pourcent,b.emb_cleunik_1,b.emb_cleunik_2,h.helibelle,b.bro_logement,b.bro_lieu,b.bro_free_destination,b.bro_statut,b.bro_freeembarq,b.bro_freederbaq FROM brochure b,historique2 h WHERE h.lignecleunik=b.bro_cleunik AND h.sn_cleunik=0 AND h.ctprocleunik=2 AND dr_cleunik=? AND b.annuler=0 AND h.hedossiercourant='O'");               pstmt.setInt(1,dossier.getDrcleunik());               ResultSet result=pstmt.executeQuery();               result.beforeFirst();               while(result.next()){                 Brochure_T bro=new Brochure_T();                 bro.setBro_cleUnik(result.getInt(1));                 bro.setFrgtcleunik(result.getInt(2));                 bro.setBro_contact(result.getString(3));                 bro.setBro_po(result.getString(4));                 bro.setTecleunik_trans(result.getInt(5));                 bro.setBro_accomodation(result.getInt(6));                 bro.setDe_cleunik(result.getInt(7));                 bro.setTecleunik_trans(result.getInt(8));                 bro.setBro_embarq(new srcastra.astra.sys.classetransfert.utils.Date(result.getString(9)));                 bro.setBro_debarq(new srcastra.astra.sys.classetransfert.utils.Date(result.getString(10)));                 bro.setBro_num(result.getString(11));                 bro.setBro_ref_catalog(result.getString(12));                 bro.setAt_val_vente(result.getDouble(13));                 bro.setBro_memo(result.getString(14));                 bro.setBro_ass_anul(result.getInt(15));                 bro.setBro_ass_bag(result.getInt(16));                 bro.setBro_ass_part(result.getInt(17));                 bro.setDatetimecrea(new srcastra.astra.sys.classetransfert.utils.Date(result.getString(19)));                 bro.setDatetimemodif(new srcastra.astra.sys.classetransfert.utils.Date(result.getString( 20)));                 bro.setValeur_tot_tva_inc(-result.getDouble(21));                                 bro.setValeur_tot(-result.getDouble(22));                 bro.setMontant_tva(-result.getDouble(23));                 bro.setLongtime(result.getLong(24));                 bro.setPax(result.getInt(25));                 bro.setQua(result.getInt(26));                 bro.setPrct(result.getFloat(27));                 bro.setBro_lieuEmbarq_cleUnik(result.getInt(28));                 bro.setBro_lieuDebarq_cleUnik(result.getInt(29));                 bro.setLibelleCompta(result.getString(30));                 bro.setBro_logement(result.getString(31));                 bro.setBro_localite(result.getString(32));                 bro.setFree_destination(result.getString(33));                 bro.setStatut(result.getInt(34));                 bro.setBro_lieuEmbarq_libele(result.getString(35));                 bro.setBro_lieuDebarq_libele(result.getString(36));                 GrpRetValue retG=GrpProduitGestion.filGrpDecToProd(serveur,bro,con,currentuser.getUrcleunik());                 bro.setGroupdecBase(retG.getBase());                 bro.setGroupdec(retG.getOwn());                 ProduitInfoComplementaire.getInfo(ProduitInfoComplementaire.BRO,ProduitInfoComplementaire.BRO_FULL,produit_T.BRO,currentuser.getLangage(),bro,con);                 new ManageDescLog(bro,bro.getDescriptionLogement(),con,pstmt).chargeBrochure_logement();                 bro.setDoc(pstmt,con);                 SupplementReduction.chargeSupreduc(bro,con,pstmt,serveur,currentuser.getUrcleunik());                 bro.setBro_destination(getDestination(bro.getDe_cleunik(), con,currentuser.getUrlmcleunik()));                 dossier.addBrochure(bro);                    }    }    public long insertDescriptif(Connection con, double cledossier, PreparedStatement pstmt) throws SQLException {         new ManageDescLog(this,this.getDescriptionLogement(),con,pstmt).insertAllDescLog();         return 0;    }       public long insertOnlyme(Connection con, double cledossier, PreparedStatement pstmt) throws SQLException {                String date;                System.out.println("brochure requete INSERT INTO brochure (frgt_cleunik,bro_contact,bro_po,tecleunik_trans,bro_accomodation,de_cleunik,tecleunik_log,bro_embarq,bro_debarq,bro_num,bro_ref_catalog,bro_valeur,bro_memo,bro_ass_anul,bro_ass_bag,bro_ass_part,dr_cleunik,bro_datetimecrea,bro_datetimemodif,longtime,pax,quantite,pourcent,emb_cleunik_1,emb_cleunik_2) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,NOW(),NOW(),?,?,?,?,?,?)");                pstmt=con.prepareStatement("INSERT INTO brochure (frgt_cleunik,bro_contact,bro_po,tecleunik_trans,bro_accomodation,de_cleunik,tecleunik_log,bro_embarq,bro_debarq,bro_num,bro_ref_catalog,bro_valeur,bro_memo,bro_ass_anul,bro_ass_bag,bro_ass_part,dr_cleunik,bro_datetimecrea,bro_datetimemodif,longtime,pax,quantite,pourcent,emb_cleunik_1,emb_cleunik_2,bro_logement,bro_lieu,bro_free_destination, bro_statut,bro_freeembarq,bro_freederbaq ) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,NOW(),NOW(),?,?,?,?,?,?,?,?,?,?,?,?)");                int grpdeccle=this.getFrgtcleunik();                pstmt.setInt(1,grpdeccle);                   pstmt.setString(2,this.getBro_contact());                pstmt.setString(3,this.getBro_po());                pstmt.setInt(4,this.getTecleunik_trans());                pstmt.setInt(5,this.getBro_accomodation());                pstmt.setInt(6,this.getDe_cleunik());                pstmt.setInt(7,this.getTecleunik_trans());                               if(this.getBro_embarq()==null) date="0000-00-00 00:00:00"; else date=this.getBro_embarq().toString();                    pstmt.setString(8,date);                if(this.getBro_debarq()==null) date="0000-00-00 00:00:00"; else date=this.getBro_debarq().toString();                    pstmt.setString(9,date);                pstmt.setString(10,this.getBro_num());                pstmt.setString(11,this.getBro_ref_catalog());                pstmt.setDouble(12,this.getAt_val_vente());                pstmt.setString(13,this.getBro_memo());                pstmt.setInt(14,this.getBro_ass_anul());                pstmt.setInt(15,this.getBro_ass_bag());                pstmt.setInt(16,this.getBro_ass_part());                pstmt.setInt(17,new Double(cledossier).intValue());                pstmt.setLong(18,this.getLongtime());                pstmt.setInt(19,this.getPax());                pstmt.setInt(20,this.getQua());                pstmt.setFloat(21,this.getPrct());                  pstmt.setInt(22,this.getBro_lieuEmbarq_cleUnik());                pstmt.setInt(23,this.getBro_lieuDebarq_cleUnik());                pstmt.setString(24,this.getBro_logement());                pstmt.setString(25,this.getBro_localite());                pstmt.setString(26,this.getFree_destination());                pstmt.setInt(27,this.getStatut());                pstmt.setString(28,this.getBro_lieuEmbarq_libele());                pstmt.setString(29,this.getBro_lieuDebarq_libele());                pstmt.execute();                this.setBro_cleUnik(GetId.getLastIdLong(con));                   return this.getBro_cleUnik();       }         public void modifyDescriptif(Connection con, PreparedStatement pstmt) throws SQLException {        new ManageDescLog(this,this.getDescriptionLogement(),con,pstmt).checkDescLog();    }      private String getDestination(long dncleunik,Connection con,int lmcleunik)throws SQLException {        String requete="SELECT tn_traduction FROM traduction_destination WHERE dn_cleunik=? AND lmcleunik=?";        PreparedStatement pstmt=con.prepareStatement(requete);        pstmt.setLong(1, dncleunik);        pstmt.setInt(2,lmcleunik);        ResultSet result=pstmt.executeQuery();        String retval="";                 while(result.next()){            retval=result.getString(1);                     }                return retval;            }    public void modifyOnlyMe(Connection con, int cledossier, PreparedStatement pstmt) throws SQLException {              String date;              //                                                     1          2           3           4                   5               6               7           8               9           10      11                  12          13          14              15          16                                  17      18          19          20              21          22          23                      24              25                  26                     pstmt=con.prepareStatement("UPDATE brochure set frgt_cleunik=?,bro_contact=?,bro_po=?,tecleunik_trans=?,bro_accomodation=?,de_cleunik=?,tecleunik_log=?,bro_embarq=?,bro_debarq=?,bro_num=?,bro_ref_catalog=?,bro_valeur=?,bro_memo=?,bro_ass_anul=?,bro_ass_bag=?,bro_ass_part=?,bro_datetimemodif=NOW(),pax=?,quantite=?,pourcent=?,bro_logement=?,bro_lieu=?,emb_cleunik_1=?,emb_cleunik_2=?,bro_free_destination=?,bro_statut=?,bro_freeembarq=?,bro_freederbaq=? WHERE bro_cleunik=?");              pstmt.setInt(1,this.getFrgtcleunik());                 pstmt.setString(2,this.getBro_contact());              pstmt.setString(3,this.getBro_po());              pstmt.setInt(4,this.getTecleunik_trans());               pstmt.setInt(5,this.getBro_accomodation());              pstmt.setInt(6,this.getDe_cleunik());              pstmt.setInt(7,this.getTecleunik_trans());                             if(this.getBro_embarq()==null) date="0000-00-00 00:00:00"; else date=this.getBro_embarq().toString();                    pstmt.setString(8,date);              if(this.getBro_debarq()==null) date="0000-00-00 00:00:00"; else date=this.getBro_debarq().toString();                    pstmt.setString(9,date);              pstmt.setString(10,this.getBro_num());              pstmt.setString(11,this.getBro_ref_catalog());              pstmt.setDouble(12,this.getAt_val_vente());              pstmt.setString(13,this.getBro_memo());              pstmt.setInt(14,this.getBro_ass_anul());              pstmt.setInt(15,this.getBro_ass_bag());              pstmt.setInt(16,this.getBro_ass_part());              pstmt.setInt(17,this.getPax());              pstmt.setInt(18,this.getQua());              pstmt.setFloat(19,this.getPrct());              pstmt.setString(20,this.getBro_logement());              pstmt.setString(21,this.getBro_localite());              pstmt.setInt(22,this.getBro_lieuEmbarq_cleUnik());              pstmt.setInt(23,this.getBro_lieuDebarq_cleUnik());              pstmt.setString(24,this.getFree_destination());              pstmt.setInt(25,this.getStatut());              pstmt.setString(26,this.getBro_lieuEmbarq_libele());              pstmt.setString(27,this.getBro_lieuDebarq_libele());              pstmt.setLong(28,this.getBro_cleUnik());              pstmt.execute();                              String dest="";                                          if (this.getDe_cleunik()==0)              dest=this.getFree_destination();              else              {              pstmt=con.prepareStatement("select tn_traduction from traduction_destination where dn_cleunik=?");              pstmt.setInt(1,this.getDe_cleunik());              ResultSet result=pstmt.executeQuery();              result.beforeFirst();              if(result.next())              dest=result.getString(1);                          }                            System.out.println(this.getBro_cleUnik());                                          pstmt=con.prepareStatement("select dr_cleunik from dossierproduit where prod_cleunik=? and cate_cleunik=2");              pstmt.setLong(1,this.getBro_cleUnik());              ResultSet result=pstmt.executeQuery();              String retval="";               result.beforeFirst();              if(result.next())              retval=result.getString(1);                                           if (retval.length()!=0)              {                                    pstmt=con.prepareStatement("update dossier set po=?,destination=? where dr_cleunik=?");                  pstmt.setString(1,getBro_po());                   pstmt.setString(2,dest);                  pstmt.setString(3,retval);                   pstmt.execute();                                 }            }    public java.util.ArrayList getDestinationArray() {            ArrayList destination=new ArrayList();            destination.add(this.getDestination());	    return destination;    }    /** Getter for property free_embarq. * @return Value of property free_embarq. * */public java.lang.String getFree_embarq() {    return free_embarq;}/** Setter for property free_embarq. * @param free_embarq New value of property free_embarq. * */public void setFree_embarq(java.lang.String free_embarq) {    this.free_embarq = free_embarq;}/** Getter for property free_debarq. * @return Value of property free_debarq. * */public java.lang.String getFree_debarq() {    return free_debarq;}/** Setter for property free_debarq. * @param free_debarq New value of property free_debarq. * */public void setFree_debarq(java.lang.String free_debarq) {    this.free_debarq = free_debarq;}    /** Getter for property bro_datetimecrea.     * @return Value of property bro_datetimecrea.     */  //  public srcastra.astra.sys.classetransfert.utils.Date getBro_datetimecrea() {    //    return bro_datetimecrea;    //}        /** Setter for property bro_datetimecrea.     * @param bro_datetimecrea New value of property bro_datetimecrea.     */   // public void setBro_datetimecrea(srcastra.astra.sys.classetransfert.utils.Date bro_datetimecrea) {     //   this.bro_datetimecrea = bro_datetimecrea;    //}        /** Getter for property bro_datetimemodif.     * @return Value of property bro_datetimemodif.     */   // public srcastra.astra.sys.classetransfert.utils.Date getBro_datetimemodif() {     //   return bro_datetimemodif;   // }        /** Setter for property bro_datetimemodif.     * @param bro_datetimemodif New value of property bro_datetimemodif.     */   // public void setBro_datetimemodif(srcastra.astra.sys.classetransfert.utils.Date bro_datetimemodif) {     //   this.bro_datetimemodif = bro_datetimemodif;   // }    }