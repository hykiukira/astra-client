/* * HammerWaiter.java * * Created on 1 juillet 2002, 11:50 */package srcastra.astra.sys.rmi.hammer;/** * * @author  rene * @version  */public class HammerWaiter extends java.lang.Object {    int threadCount;     int threadNum;        Object parentThread;    int threadErrors;    int threadTime;        /** Creates new HammerWaiter */    public HammerWaiter(Object parent, int threadLimit) {        parentThread = parent;        threadCount=threadLimit;        threadNum=threadLimit;        threadErrors = 0;        threadTime = 0;    }    public synchronized void childNotify(boolean error, long time) {        if (error) threadErrors++;        threadCount--;        threadTime+=time;        //System.out.println ("A child has finished ("+threadCount+"/"+threadNum+")");        if (threadCount<=0)        {            synchronized(parentThread)            {                parentThread.notify();            }        }    }}